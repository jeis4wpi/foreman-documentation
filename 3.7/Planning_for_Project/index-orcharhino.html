<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Planning for orcharhino</title>
<style>
﻿*,::before,::after{box-sizing:border-box}html{font-size:100%;-webkit-text-size-adjust:100%}body{background:#fff;color:rgba(0,0,0,0.8);padding:0;margin:0;font-family:"Noto Serif", "DejaVu Serif", serif;font-size:inherit;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,p,blockquote,th,td{margin:0;padding:0}a{background:none;color:#2156a5;text-decoration:underline;line-height:inherit}a:active,a:hover{cursor:pointer;outline:0}a:focus{outline:thin dotted}a:hover,a:focus{color:#1d4b8f}abbr{font-size:0.9em}abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}b,strong{font-weight:bold;line-height:inherit}strong strong{font-weight:400}code,kbd,pre{font-family:"Droid Sans Mono", "DejaVu Sans Mono", monospace;font-size:1em}code{font-weight:400;color:rgba(0,0,0,0.9)}pre{color:rgba(0,0,0,0.9);line-height:1.45;text-rendering:optimizeSpeed;white-space:pre-wrap}dfn{font-style:italic}em,i{font-style:italic;line-height:inherit}em em{font-style:normal}hr{border:solid #dddddf;border-width:1px 0 0;clear:both;height:0;margin:1.25em 0 1.1875em}mark{background:#ff0;color:#000}p{line-height:1.6;margin-bottom:1.25rem;text-rendering:optimizeLegibility}q{quotes:"“" "”" "‘" "’"}small{font-size:60%;line-height:inherit}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img,object[type^="image/"],svg{display:inline-block;height:auto;max-width:100%;vertical-align:middle}img{border:0;-ms-interpolation-mode:bicubic}object{max-width:100%}svg:not(:root){overflow:hidden}figure{margin:0}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}.left{float:left !important}.right{float:right !important}.text-left{text-align:left !important}.text-right{text-align:right !important}.text-center{text-align:center !important}.text-justify{text-align:justify !important}.hide{display:none}.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:0.25em}p aside{font-size:.875em;line-height:1.35;font-style:italic}h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans", "DejaVu Sans", sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.2;word-spacing:-0.05em}h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{color:#e99b8f;line-height:0}h1{font-size:2.125em}h2{font-size:1.6875em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}h4,h5{font-size:1.125em}h6{font-size:1em}ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}ul,ol{margin-left:1.5em}ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}ul.square{list-style-type:square}ul.circle{list-style-type:circle}ul.disc{list-style-type:disc}ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}dl dt{margin-bottom:.3125em;font-weight:bold}dl dd{margin-bottom:1.25em;margin-left:1.125em}blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,0.85)}@media screen and (min-width: 768px){h1{font-size:2.75em}h2{font-size:2.3125em}h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}h4{font-size:1.4375em}}table{background:#fff;border:1px solid #dedede;border-collapse:collapse;border-spacing:0;margin-bottom:1.25em;word-wrap:normal}table thead,table tfoot{background:#f7f8f7}table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,0.8);text-align:left}table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,0.8)}table tr.even,table tr.alt{background:#f8f8f7}table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}.center{margin-left:auto;margin-right:auto}.stretch{width:100%}.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:"";display:table}.clearfix::after,.float-group::after{clear:both}:not(pre).nobreak{word-wrap:normal}:not(pre).nowrap{white-space:nowrap}:not(pre).pre-wrap{white-space:pre-wrap}:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal !important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}pre>code{display:block}pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}.keyseq{color:rgba(51,51,51,0.8)}kbd{display:inline-block;color:rgba(0,0,0,0.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,0.2),inset 0 0 0 0.1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}.keyseq kbd:first-child{margin-left:0}.keyseq kbd:last-child{margin-right:0}.menuseq,.menuref{color:#000}.menuseq b:not(.caret),.menuref{font-weight:inherit}.menuseq{word-spacing:-0.02em}.menuseq b.caret{font-size:1.25em;line-height:0.8}.menuseq i.caret{font-weight:bold;text-align:center;width:0.45em}b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}b.button::before{content:"[";padding:0 3px 0 2px}b.button::after{content:"]";padding:0 2px 0 3px}p a>code:hover{color:rgba(0,0,0,0.9)}body>div[id]{margin:0 auto;max-width:62.5em;position:relative;padding-left:.9375em;padding-right:0.9375em}body>div[id]::before,body>div[id]::after,#content #footnotes::before{content:"";display:table;clear:both}#content{margin-top:1.25em;margin-bottom:0.625em}#content::before{content:none}#header>h1:first-child{color:rgba(0,0,0,0.85);margin-top:2.25rem;margin-bottom:0}#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,0.6);display:flex;flex-flow:row wrap}#header .details span:first-child{margin-left:-0.125em}#header .details span.email a{color:rgba(0,0,0,0.85)}#header .details br{display:none}#header .details br+span::before{content:" – "}#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,0.85)}#header .details br+span#revremark::before{content:" | "}#header #revnumber{text-transform:capitalize}#header #revnumber::after{content:" "}#content>h1:first-child:not([class]){color:rgba(0,0,0,0.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}#toc{border-bottom:1px solid #e7e7e9;padding-bottom:0.5em}#toc>ul{margin-left:0.125em}#toc ul.sectlevel0>li>a{font-style:italic}#toc ul.sectlevel0 ul.sectlevel1{margin:0.5em 0}#toc ul{font-family:"Open Sans", "DejaVu Sans", sans-serif;list-style-type:none}#toc li{line-height:1.3334;margin-top:0.3334em}#toc a{text-decoration:none}#toc a:active{text-decoration:underline}#toctitle{color:#7a2518;font-size:1.2em}@media screen and (min-width: 768px){#toctitle{font-size:1.375em}body.toc2{padding-left:15em;padding-right:0}#toc.toc2{margin-top:0 !important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0 !important;border-bottom-width:0 !important;z-index:1000;padding:1.25em 1em;height:calc(100% - (70px + 2.5em));overflow:auto}#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}#toc.toc2>ul{font-size:.9em;margin-bottom:0}#toc.toc2 ul ul{margin-left:0;padding-left:1em}#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:0.5em}body.toc2.toc-right{padding-left:0;padding-right:15em}body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}@media screen and (min-width: 1280px){body.toc2{padding-left:20em;padding-right:0}#toc.toc2{width:20em}#toc.toc2 #toctitle{font-size:1.375em}#toc.toc2>ul{font-size:0.95em}#toc.toc2 ul ul{padding-left:1.25em}body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}#content #toc>:first-child{margin-top:0}#content #toc>:last-child{margin-bottom:0}#footer{max-width:none;background:#025d8c;padding:1.25em;margin-left:2em}#footer-text{color:rgba(255,255,255,0.8);line-height:1.44}.sect1{padding-bottom:0.625em}@media screen and (min-width: 768px){#content{margin-bottom:1.25em}.sect1{padding-bottom:1.25em}}.sect1:last-child{padding-bottom:0}.sect1+.sect1{border-top:1px solid #e7e7e9}#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none !important;visibility:hidden;text-align:center;font-weight:400}#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:0.1em}#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}details{margin-left:1.25rem}details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}details>summary::-webkit-details-marker{display:none}details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif", "DejaVu Serif", serif;font-size:1rem;font-style:italic}table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,0.85)}.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}.admonitionblock>table td.icon{text-align:center;width:80px}.admonitionblock>table td.icon img{max-width:none}.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans", "DejaVu Sans", sans-serif;text-transform:uppercase}.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,0.6);word-wrap:anywhere}.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}.exampleblock>.content{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#fffef7;border-radius:4px;box-shadow:0 1px 4px #e0e0dc}.exampleblock>.content>:first-child{margin-top:0}.exampleblock>.content>:last-child{margin-bottom:0}.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}.sidebarblock>:first-child{margin-top:0}.sidebarblock>:last-child{margin-bottom:0}.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:0.8125em}@media screen and (min-width: 768px){.literalblock pre,.listingblock>.content>pre{font-size:0.90625em}}@media screen and (min-width: 1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,0.9)}.listingblock>.content{position:relative}.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:0.5}.listingblock:hover code[data-lang]::before{display:block}.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:0.5}.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}.listingblock pre.highlightjs{padding:0}.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}.listingblock pre.prettyprint{border-width:0}.prettyprint{background:#f7f7f8}pre.prettyprint .linenums{line-height:1.45;margin-left:2em}pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}pre.prettyprint li code[data-lang]::before{opacity:1}pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}table.linenotable td.code{padding-left:0.75em}table.linenotable td.linenos{width:0.01%}table.linenotable td.linenos,pre.pygments .linenos,pre.rouge .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}pre.pygments span.linenos,pre.rouge span.linenos{display:inline-block;margin-right:0.75em}.quoteblock{margin:0 1em 1.25em 1.5em;display:table}.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:0.75em}.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,0.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}.quoteblock blockquote{margin:0;padding:0;border:0}.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,0.1)}.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}.verseblock{margin:0 1em 1.25em}.verseblock pre{font-family:"Open Sans", "DejaVu Sans", sans-serif;font-size:1.15rem;color:rgba(0,0,0,0.85);font-weight:300;text-rendering:optimizeLegibility}.verseblock pre strong{font-weight:400}.verseblock .attribution{margin-top:1.25rem;margin-left:0.5ex}.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}.quoteblock .attribution br,.verseblock .attribution br{display:none}.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,0.6)}.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}.quoteblock.abstract{margin:0 1em 1.25em;display:block}.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:0.25em solid #dddddf}.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}p.tableblock:last-child{margin-bottom:0}td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}td.tableblock>.content>:last-child{margin-bottom:-1.25em}table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}table.grid-all>*>tr>*{border-width:1px}table.grid-cols>*>tr>*{border-width:0 1px}table.grid-rows>*>tr>*{border-width:1px 0}table.frame-all{border-width:1px}table.frame-ends{border-width:1px 0}table.frame-sides{border-width:0 1px}table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}th.halign-left,td.halign-left{text-align:left}th.halign-right,td.halign-right{text-align:right}th.halign-center,td.halign-center{text-align:center}th.valign-top,td.valign-top{vertical-align:top}th.valign-bottom,td.valign-bottom{vertical-align:bottom}th.valign-middle,td.valign-middle{vertical-align:middle}table thead th,table tfoot th{font-weight:bold}tbody tr th{background:#f7f8f7}tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,0.8);font-weight:bold}p.tableblock>code:only-child{background:none;padding:0}p.tableblock{font-size:1em}ol{margin-left:1.75em}ul li ol{margin-left:1.5em}dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:0.625em}ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:0.625em}ul.unstyled,ol.unstyled{margin-left:0}li>p:empty:only-child::before{content:"";display:inline-block}ul.checklist>li>p:first-child{margin-left:-1em}ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:0.125em}ul.checklist>li>p:first-child>input[type=checkbox]:first-child{font:inherit;margin:0 .25em 0 0;padding:0}ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 0.625em -1.25em}ul.inline>li{margin-left:1.25em}.unstyled dl dt{font-weight:400;font-style:normal}ol.arabic{list-style-type:decimal}ol.decimal{list-style-type:decimal-leading-zero}ol.loweralpha{list-style-type:lower-alpha}ol.upperalpha{list-style-type:upper-alpha}ol.lowerroman{list-style-type:lower-roman}ol.upperroman{list-style-type:upper-roman}ol.lowergreek{list-style-type:lower-greek}.hdlist>table,.colist>table{border:0;background:none}.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}td.hdlist1,td.hdlist2{vertical-align:top;padding:0 0.625em}td.hdlist1{font-weight:bold;padding-bottom:1.25em}td.hdlist2{word-wrap:anywhere}.literalblock+.colist,.listingblock+.colist{margin-top:-0.5em}.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}.colist td:not([class]):first-child img{max-width:none}.colist td:not([class]):last-child{padding:0.25em 0}.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}.imageblock.left{margin:0.25em 0.625em 1.25em 0}.imageblock.right{margin:0.25em 0 1.25em 0.625em}.imageblock>.title{margin-bottom:0}.imageblock.thumb,.imageblock.th{border-width:6px}.imageblock.thumb>.title,.imageblock.th>.title{padding:0 0.125em}.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}.image.left{margin-right:0.625em}.image.right{margin-left:0.625em}a.image{text-decoration:none;display:inline-block}a.image object{pointer-events:none}sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}sup.footnote a,sup.footnoteref a{text-decoration:none}sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:0.625em}#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:0.2em}#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}#footnotes .footnote:last-of-type{margin-bottom:0}#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:0.75em 0}div.page-break{display:none}div.unbreakable{page-break-inside:avoid}.big{font-size:larger}.small{font-size:smaller}.underline{text-decoration:underline}.overline{text-decoration:overline}.line-through{text-decoration:line-through}.aqua{color:#00bfbf}.aqua-background{background:#00fafa}.black{color:#000}.black-background{background:#000}.blue{color:#0000bf}.blue-background{background:#0000fa}.fuchsia{color:#bf00bf}.fuchsia-background{background:#fa00fa}.gray{color:#606060}.gray-background{background:#7d7d7d}.green{color:#006000}.green-background{background:#007d00}.lime{color:#00bf00}.lime-background{background:#00fa00}.maroon{color:#600000}.maroon-background{background:#7d0000}.navy{color:#000060}.navy-background{background:#00007d}.olive{color:#606000}.olive-background{background:#7d7d00}.purple{color:#600060}.purple-background{background:#7d007d}.red{color:#bf0000}.red-background{background:#fa0000}.silver{color:#909090}.silver-background{background:#bcbcbc}.teal{color:#006060}.teal-background{background:#007d7d}.white{color:#bfbfbf}.white-background{background:#fafafa}.yellow{color:#bfbf00}.yellow-background{background:#fafa00}span.icon>.fa{cursor:default}a span.icon>.fa{cursor:inherit}.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,0.5);cursor:default}.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,0.8);color:#111}.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}.conum[data-value]{display:inline-block;color:#fff !important;background:rgba(0,0,0,0.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans", "DejaVu Sans", sans-serif;font-style:normal;font-weight:bold}.conum[data-value] *{color:#fff !important}.conum[data-value]+b{display:none}.conum[data-value]::after{content:attr(data-value)}pre .conum[data-value]{position:relative;top:-0.125em}b.conum *{color:inherit !important}.conum:not([data-value]):empty{display:none}dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}h1,h2,p,td.content,span.alt,summary{letter-spacing:-0.01em}p strong,td.content strong,div.footnote strong{letter-spacing:-0.005em}p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}.print-only{display:none !important}@page{margin:1.25cm 0.75cm}@media print{*{box-shadow:none !important;text-shadow:none !important}html{font-size:80%}a{color:inherit !important;text-decoration:underline !important}a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none !important}a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:0.25em}abbr[title]{border-bottom:1px dotted}abbr[title]::after{content:" (" attr(title) ")"}pre,blockquote,tr,img,object,svg{page-break-inside:avoid}thead{display:table-header-group}p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}body>div[id]{max-width:none}#toc,.sidebarblock,.exampleblock>.content{background:none !important}#toc{border-bottom:1px solid #dddddf !important;padding-bottom:0 !important}body.book #header{text-align:center}body.book #header>h1:first-child{border:0 !important;margin:2.5em 0 1em}body.book #header .details{border:0 !important;display:block;padding:0 !important}body.book #header .details span:first-child{margin-left:0 !important}body.book #header .details br{display:block}body.book #header .details br+span::before{content:none !important}body.book #toc{border:0 !important;text-align:left !important;padding:0 !important;margin:0 !important}body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}.listingblock code[data-lang]::before{display:block}div.page-break{display:block;page-break-after:always}#footer{padding:0 0.9375em}.hide-on-print{display:none !important}.print-only{display:block !important}.hide-for-print{display:none !important}.show-for-print{display:inherit !important}}@media amzn-kf8, print{#header>h1:first-child{margin-top:1.25rem}.sect1{padding:0 !important}.sect1+.sect1{border:0}#footer{background:none}#footer-text{color:rgba(0,0,0,0.6);font-size:0.9em}}@media amzn-kf8{body>div[id]{padding:0}}body{padding:0;margin:0;margin-top:70px !important}.container{position:relative;z-index:1;padding-top:50px;min-height:100%}.container p{font-family:sans-serif;font-size:1.2em}nav{position:fixed;z-index:9999;left:0;right:0;top:0;height:70px;padding:0 1.5em;background-color:#025d8c;font-family:sans-serif;line-height:70px}nav .logo{width:50px;vertical-align:middle}nav .nav-menu{position:absolute;right:0.3em;top:0;padding:0;margin:0;list-style:none}nav .nav-item{display:inline-block}nav .nav-item>a{display:inline-block;padding:0 2.5em;line-height:70px;color:#fff;text-decoration:none}nav .dropdown{position:relative}nav .dropdown a::after{content:"";display:inline-block;margin-left:0.5em;vertical-align:middle;border-top:0.3em solid #fff;border-right:0.3em solid transparent;border-left:0.3em solid transparent}nav .dropdown.show a::after{transform:rotate(180deg)}nav .dropdown-menu{display:none;position:absolute;left:0;right:0;top:100%;padding:0.5em 0;margin-top:-0.5em;border:1px solid rgba(0,0,0,0.3);border-radius:0.5em;background-color:#fff;width:max-content}nav .dropdown-menu-left{left:auto;right:0}nav .dropdown.show .dropdown-menu{display:block}nav .dropdown-div{display:block;padding:0.4em 0;line-height:4em}nav .dropdown-div a::after{content:none;margin-left:0;border-top:0;border-right:0;border-left:0}nav .dropdown-item{display:block;padding:0 1.5em;font-size:0.875em;color:#000;line-height:1.6em;text-decoration:none}nav .btn-hamburger{display:none;position:absolute;right:1.5em;top:50%;background-color:transparent;border:0;cursor:pointer;outline:none;transform:translateY(-50%)}nav .btn-hamburger span{display:block;width:30px;height:4px;background-color:#fff;margin:6px;border-radius:2px;transition:0.3s ease-in-out}nav .btn-hamburger span:nth-child(4),nav .btn-hamburger span:nth-child(5){position:absolute;top:10px;opacity:0.5}nav .btn-hamburger span:nth-child(4){transform:rotate(45deg) scale(0)}nav .btn-hamburger span:nth-child(5){transform:rotate(-45deg) scale(0)}nav.opened .btn-hamburger span:nth-child(4){opacity:1;transform:rotate(45deg) scale(1)}nav.opened .btn-hamburger span:nth-child(5){opacity:1;transform:rotate(-45deg) scale(1)}nav.opened .btn-hamburger span:nth-child(1),nav.opened .btn-hamburger span:nth-child(2),nav.opened .btn-hamburger span:nth-child(3){opacity:0}@media screen and (max-width: 768px){nav .nav-menu{position:fixed;left:0;right:0;top:70px;bottom:100%;display:flex;flex-direction:column;justify-content:start;background-color:#363d4e;transition:bottom 0.5s ease-in-out;overflow:hidden}nav.opened .nav-menu{bottom:0}nav .nav-item>a{display:block}nav .dropdown-menu{position:relative;top:0;margin:0 1.5em}nav .btn-hamburger{display:block}}@media screen{div.narrow{max-width:1080px;margin:0 auto !important;margin-top:70px auto !important;float:none !important}#toc.toc2{margin-top:70px !important}}

</style>
<!-- docinfo -->
</head>
<body class="book toc2 toc-left">
    <div id="wrap">
      <script src="/js/versions.js"></script>
      <script src="/js/nav.js"></script>
      <script>
        document.open();
        document.write(buildNavigation());
        addNavbarListeners();
        document.close();
      </script>
    </div>
<div id="header">
<h1>Planning for orcharhino</h1>
<div class="details">
<span id="revnumber">version 6.6 (unsupported),</span>
<span id="revdate">published Nov 07 2024</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#part-Architecture">orcharhino Architecture</a>
<ul class="sectlevel1">
<li><a href="#Introduction_to_Server_planning">1. Introduction to orcharhino</a>
<ul class="sectlevel2">
<li><a href="#System_Architecture_planning">1.1. System Architecture</a></li>
<li><a href="#sect-Architecture_System_Components">1.2. System Components</a></li>
<li><a href="#Supported_Operating_Systems_and_Architectures">1.3. Supported Operating Systems and Architectures</a></li>
</ul>
</li>
<li><a href="#chap-Documentation-Architecture_Guide-Capsule_Server_Overview">2. orcharhino&#160;Proxy Overview</a>
<ul class="sectlevel2">
<li><a href="#sect-Documentation-Architecture_Guide-Capsule_Features">2.1. orcharhino&#160;Proxy Features</a></li>
<li><a href="#sect-Documentation-Architecture_Guide-Capsule_Types">2.2. orcharhino&#160;Proxy Types</a></li>
<li><a href="#sect-Documentation-Architecture_Guide-Capsule_Networking">2.3. orcharhino&#160;Proxy Networking</a></li>
</ul>
</li>
<li><a href="#chap-Architecture_Guide-Org_Loc_and_Lifecycle_Environments">3. Organizations, Locations, and Lifecycle Environments</a>
<ul class="sectlevel2">
<li><a href="#_organizations">3.1. Organizations</a></li>
<li><a href="#_locations">3.2. Locations</a></li>
<li><a href="#_lifecycle_environments">3.3. Lifecycle Environments</a></li>
</ul>
</li>
<li><a href="#chap-Architecture_Guide-Host_Grouping_Concepts">4. Host Grouping Concepts</a>
<ul class="sectlevel2">
<li><a href="#sect-Architecture_Guide-Host_Group_Hierarchies">4.1. Host Group Structures</a></li>
</ul>
</li>
<li><a href="#chap-Architecture_Guide-Provisioning_Concepts">5. Provisioning Concepts</a>
<ul class="sectlevel2">
<li><a href="#_pxe_booting">5.1. PXE Booting</a></li>
<li><a href="#http-booting">5.2. HTTP Booting</a></li>
<li><a href="#_secure_boot">5.3. Secure Boot</a></li>
<li><a href="#_kickstart">5.4. Kickstart</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#part-Deployment_Planning">orcharhino Deployment Planning</a>
<ul class="sectlevel1">
<li><a href="#chap-Architecture_Guide-Deployment_Scenarios">6. Common Deployment Scenarios</a>
<ul class="sectlevel2">
<li><a href="#sect-Architecture_Guide-Single_Location">6.1. Single Location</a></li>
<li><a href="#sect-Architecture_Guide-Single">6.2. Single Location with Segregated Subnets</a></li>
<li><a href="#sect-Architecture_Guide-Multiple_Locations">6.3. Multiple Locations</a></li>
<li><a href="#sect-Architecture_Guide-Capsule_with_External_Services">6.4. orcharhino&#160;Proxy with External Services</a></li>
</ul>
</li>
<li><a href="#chap-Architecture_Guide-Deployment_Considerations">7. Deployment Considerations</a>
<ul class="sectlevel2">
<li><a href="#satellite_server_with_external_database">7.1. orcharhino&#160;Server with External Database</a></li>
<li><a href="#sect-Mapping_the_Infrastructure_Topology">7.2. Locations and Topology</a></li>
<li><a href="#sect-Defining_Content_Sources">7.3. Content Sources</a></li>
<li><a href="#sect-Defining_the_Content_Lifecycle">7.4. Content Lifecycle</a></li>
<li><a href="#sect-Defining_Content_Deployment">7.5. Content Deployment</a></li>
<li><a href="#sect-Automating_the_Provisioning">7.6. Provisioning</a></li>
<li><a href="#sect-Defining_Role_Based_Authentication">7.7. Role Based Authentication</a></li>
<li><a href="#sect-Additional_Tasks">7.8. Additional Tasks</a></li>
</ul>
</li>
<li><a href="#chap-Documentation-Architecture_Guide-Required_Technical_Users">Appendix A: Technical Users Provided and Required by orcharhino</a></li>
<li><a href="#appe-Architecture_Guide-Glossary_of_Terms">Appendix B: Glossary of Terms</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="part-Architecture" class="sect0"><a class="anchor" href="#part-Architecture"></a>orcharhino Architecture</h1>
<div class="sect1">
<h2 id="Introduction_to_Server_planning"><a class="anchor" href="#Introduction_to_Server_planning"></a>1. Introduction to orcharhino</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide contains information about features provided by the Katello plug-in.
If you do not plan to install the Katello plug-in, ignore these references.</p>
</div>
<div class="paragraph">
<p><em>orcharhino</em> is a system management solution that enables you to deploy, configure, and maintain your systems across physical, virtual, and cloud environments.
orcharhino provides provisioning, remote management and monitoring of multiple Enterprise Linux deployments with a single, centralized tool.
<em>orcharhino&#160;Server</em> synchronizes the content from Red&#160;Hat Customer&#160;Portal and other sources, and provides functionality including fine-grained lifecycle management, user and group role-based access control, integrated subscription management, as well as advanced GUI, CLI, or API access.</p>
</div>
<div class="paragraph">
<p><em>orcharhino&#160;Proxy</em> mirrors content from orcharhino&#160;Server to facilitate content federation across various geographical locations.
Host systems can pull content and configuration from orcharhino&#160;Proxy in their location and not from the central orcharhino&#160;Server.
orcharhino&#160;Proxy also provides localized services such as Puppet server, DHCP, DNS, or TFTP.
orcharhino&#160;Proxies assist you in scaling your orcharhino environment as the number of your managed systems increases.</p>
</div>
<div class="paragraph">
<p>orcharhino&#160;Proxies decrease the load on the central server, increase redundancy, and reduce bandwidth usage.
For more information, see <a href="#chap-Documentation-Architecture_Guide-Capsule_Server_Overview">orcharhino&#160;Proxy Overview</a>.</p>
</div>
<div class="sect2">
<h3 id="System_Architecture_planning"><a class="anchor" href="#System_Architecture_planning"></a>1.1. System Architecture</h3>
<div class="paragraph">
<p>The following diagram represents the high-level architecture of orcharhino.</p>
</div>
<div class="paragraph">
<p>The graphics in this section are Red Hat illustrations.
Non-Red Hat illustrations are welcome.
If you want to contribute alternative images, raise a pull request in the <a href="https://github.com/theforeman/foreman-documentation">Foreman Documentation</a> GitHub page.
Note that in Red Hat terminology, "Satellite" refers to Foreman and "Capsule" refers to Smart Proxy.</p>
</div>
<div id="figu-Architecture_System_Architecture-System_Architecture" class="imageblock">
<div class="content">
<img src="images/system-architecture-satellite.png" alt="orcharhino System Architecture">
</div>
<div class="title">Figure 1. orcharhino System Architecture</div>
</div>
<div class="paragraph">
<p>There are four stages through which content flows in this architecture:</p>
</div>
<div id="varl-Architecture_System_Architecture-External_Content_Sources" class="dlist">
<dl>
<dt class="hdlist1"><strong>External Content Sources</strong></dt>
<dd>
<p>The <em>orcharhino&#160;Server</em> can consume diverse types of content from various sources.
The Red&#160;Hat Customer Portal is the primary source of software packages, errata, and container images.
In addition, you can use other supported content sources (Git repositories, Docker Hub, SCAP repositories) as well as your organization&#8217;s internal data store.</p>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Architecture-RednbspHat_Satellite_Server" class="dlist">
<dl>
<dt class="hdlist1"><strong>orcharhino&#160;Server</strong></dt>
<dd>
<p>The orcharhino&#160;Server enables you to plan and manage the content lifecycle and the configuration of orcharhino&#160;Proxies and hosts through GUI, CLI, or API.</p>
<div class="paragraph">
<p>orcharhino&#160;Server organizes the lifecycle management by using organizations as principal division units.
Organizations isolate content for groups of hosts with specific requirements and administration tasks.
For example, the OS build team can use a different organization than the web development team.</p>
</div>
<div class="paragraph">
<p>orcharhino&#160;Server also contains a fine-grained authentication system to provide orcharhino operators with permissions to access precisely the parts of the infrastructure that lie in their area of responsibility.</p>
</div>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Architecture-Capsule_Servers" class="dlist">
<dl>
<dt class="hdlist1"><strong>orcharhino&#160;Proxies</strong></dt>
<dd>
<p>orcharhino&#160;Proxies mirror content from orcharhino&#160;Server to establish content sources in various geographical locations.
This enables host systems to pull content and configuration from orcharhino&#160;Proxies in their location and not from the central orcharhino&#160;Server.
The recommended minimum number of orcharhino&#160;Proxies is therefore given by the number of geographic regions where the organization that uses orcharhino operates.</p>
<div class="paragraph">
<p>Using Content Views, you can specify the exact subset of content that orcharhino&#160;Proxy makes available to hosts.
See <a href="#figu-Content_Lifecycle_planning">Content Lifecycle in orcharhino</a> for a closer look at lifecycle management with the use of Content Views.</p>
</div>
<div class="paragraph">
<p>The communication between managed hosts and orcharhino&#160;Server is routed through orcharhino&#160;Proxy that can also manage multiple services on behalf of hosts.
Many of these services use dedicated network ports, but orcharhino&#160;Proxy ensures that a single source IP address is used for all communications from the host to orcharhino&#160;Server, which simplifies firewall administration.
For more information on orcharhino&#160;Proxies see <a href="#chap-Documentation-Architecture_Guide-Capsule_Server_Overview">orcharhino&#160;Proxy Overview</a>.</p>
</div>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Architecture-Managed_Hosts" class="dlist">
<dl>
<dt class="hdlist1"><strong>Managed Hosts</strong></dt>
<dd>
<p>Hosts are the recipients of content from orcharhino&#160;Proxies.
Hosts can be either physical or virtual.
orcharhino&#160;Server can have directly managed hosts.
The base system running a orcharhino&#160;Proxy is also a managed host of orcharhino&#160;Server.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The following diagram provides a closer look at the distribution of content from orcharhino&#160;Server to orcharhino&#160;Proxies.</p>
</div>
<div class="paragraph">
<p>The graphics in this section are Red Hat illustrations.
Non-Red Hat illustrations are welcome.
If you want to contribute alternative images, raise a pull request in the <a href="https://github.com/theforeman/foreman-documentation">Foreman Documentation</a> GitHub page.
Note that in Red Hat terminology, "Satellite" refers to Foreman and "Capsule" refers to Smart Proxy.</p>
</div>
<div id="figu-Content_Lifecycle_planning" class="imageblock">
<div class="content">
<img src="images/lifecycle-satellite.png" alt="Content Lifecycle in orcharhino">
</div>
<div class="title">Figure 2. Content Lifecycle in orcharhino</div>
</div>
<div class="paragraph">
<p>By default, each organization has a Library of content from external sources.
Content Views are subsets of content from the Library created by intelligent filtering.
You can publish and promote Content Views into lifecycle environments (typically Dev, QA, and Production).
When creating a orcharhino&#160;Proxy, you can choose which lifecycle environments will be copied to that orcharhino&#160;Proxy and made available to managed hosts.</p>
</div>
<div class="paragraph">
<p>Content Views can be combined to create Composite Content Views.
It can be beneficial to have a separate Content View for a repository of packages required by an operating system and a separate one for a repository of packages required by an application.
One advantage is that any updates to packages in one repository only requires republishing the relevant Content View.
You can then use Composite Content Views to combine published Content Views for ease of management.</p>
</div>
<div class="paragraph">
<p>Which Content Views should be promoted to which orcharhino&#160;Proxy depends on the orcharhino&#160;Proxy&#8217;s intended functionality.
Any orcharhino&#160;Proxy can run DNS, DHCP, and TFTP as infrastructure services that can be supplemented, for example, with content or configuration services.</p>
</div>
<div class="paragraph">
<p>You can update orcharhino&#160;Proxy by creating a new version of a Content View using synchronized content from the Library.
The new Content View version is then promoted through lifecycle environments.
You can also create in-place updates of Content Views.
This means creating a minor version of the Content View in its current lifecycle environment without promoting it from the Library.
For example, if you need to apply a security erratum to a Content View used in Production, you can update the Content View directly without promoting to other lifecycles.
For more information on content management, see <a href="https://docs.theforeman.org/3.7/Managing_Content/index-orcharhino.html#"><em>Managing Content</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Architecture_System_Components"><a class="anchor" href="#sect-Architecture_System_Components"></a>1.2. System Components</h3>
<div class="paragraph">
<p>orcharhino consists of the following open source projects:</p>
</div>
<div id="varl-Architecture_System_Components-Foreman" class="dlist">
<dl>
<dt class="hdlist1"><strong>Foreman</strong></dt>
<dd>
<p>Foreman is an open source application used for provisioning and lifecycle management of physical and virtual systems.
Foreman automatically configures these systems using various methods, including kickstart and Puppet modules.
Foreman also provides historical data for reporting, auditing, and troubleshooting.</p>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Components-Katello" class="dlist">
<dl>
<dt class="hdlist1"><strong>Katello</strong></dt>
<dd>
<p>Katello is an optional Foreman plug-in for subscription and repository management.
It provides a means to subscribe to repositories and download content.
You can create and manage different versions of this content and apply them to specific systems within user-defined stages of the application lifecycle.</p>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Components-Candlepin" class="dlist">
<dl>
<dt class="hdlist1"><strong>Candlepin</strong></dt>
<dd>
<p>Candlepin is a service within Katello that handles subscription management.</p>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Components-Pulp" class="dlist">
<dl>
<dt class="hdlist1"><strong>Pulp</strong></dt>
<dd>
<p>Pulp is a service within Katello that handles repository and content management.
Pulp ensures efficient storage space by not duplicating RPM packages even when requested by Content Views in different organizations.</p>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Components-Hammer" class="dlist">
<dl>
<dt class="hdlist1"><strong>Hammer</strong></dt>
<dd>
<p>Hammer is a CLI tool that provides command line and shell equivalents of most orcharhino management UI functions.</p>
</dd>
</dl>
</div>
<div id="varl-Architecture_System_Components-REST_API" class="dlist">
<dl>
<dt class="hdlist1"><strong>REST API</strong></dt>
<dd>
<p>orcharhino includes a RESTful API service that allows system administrators and developers to write custom scripts and third-party applications that interface with orcharhino.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The terminology used in orcharhino and its components is extensive.
For explanations of frequently used terms, see <a href="#appe-Architecture_Guide-Glossary_of_Terms">Glossary of Terms</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="Supported_Operating_Systems_and_Architectures"><a class="anchor" href="#Supported_Operating_Systems_and_Architectures"></a>1.3. Supported Operating Systems and Architectures</h3>
<div class="sect3">
<h4 id="Foreman_Server_Operating_System"><a class="anchor" href="#Foreman_Server_Operating_System"></a>1.3.1. orcharhino&#160;Server Operating System</h4>
<div class="paragraph">
<p>orcharhino has packages for Enterprise Linux 8, Debian 11 and Ubuntu 20.04.
Katello plug-in packages, which provide content management capabilities, are only available for Enterprise Linux.</p>
</div>
<div class="paragraph">
<p>The only architecture orcharhino has packages for is x86_64.</p>
</div>
</div>
<div class="sect3">
<h4 id="Client_Operating_Systems"><a class="anchor" href="#Client_Operating_Systems"></a>1.3.2. Client Operating Systems</h4>
<div class="paragraph">
<p>orcharhino can help to manage any kind of operating systems that have clients orcharhino can integrate with.
For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operating system installers that can perform unattended installations (such as Anaconda in Fedora and CentOS, or Debian-installer in Debian and Ubuntu)</p>
</li>
<li>
<p>Puppet</p>
</li>
<li>
<p>Ansible</p>
</li>
<li>
<p>OpenSCAP</p>
</li>
<li>
<p>OpenSSH</p>
</li>
<li>
<p>Other clients where integration is provided by external plug-ins</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>orcharhino is actively tested with the following client operating systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CentOS 7 and 8</p>
</li>
<li>
<p>Debian stable</p>
</li>
<li>
<p>Ubuntu LTS</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Katello plug-in provides functionality for content and subscription management.
The following utilities are provided for selected CentOS and SLES operating systems:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Katello agent</p>
</li>
<li>
<p>Subscription manager</p>
</li>
<li>
<p>Katello host tools</p>
</li>
<li>
<p>Tracer utility</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For Red Hat family operating systems, SELinux must not be set to disabled mode.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chap-Documentation-Architecture_Guide-Capsule_Server_Overview"><a class="anchor" href="#chap-Documentation-Architecture_Guide-Capsule_Server_Overview"></a>2. orcharhino&#160;Proxy Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>orcharhino&#160;Proxies provide <strong>content federation</strong> and run <strong>localized services</strong> to discover, provision, control, and configure hosts.
You can use orcharhino&#160;Proxies to extend the orcharhino deployment to various geographical locations.
This section contains an overview of features that can be enabled on orcharhino&#160;Proxies as well as their simple classification.</p>
</div>
<div class="paragraph">
<p>For more information about orcharhino&#160;Proxy requirements, installation process, and scalability considerations, see <a href="https://docs.theforeman.org/3.7/Installing_Proxy/index-orcharhino.html#">Installing orcharhino&#160;Proxy</a>.</p>
</div>
<div class="sect2">
<h3 id="sect-Documentation-Architecture_Guide-Capsule_Features"><a class="anchor" href="#sect-Documentation-Architecture_Guide-Capsule_Features"></a>2.1. orcharhino&#160;Proxy Features</h3>
<div class="paragraph">
<p>There are two sets of features provided by orcharhino&#160;Proxies.
You can use orcharhino&#160;Proxy to run services required for host management.
If you have the Katello plug-in installed, you can also configure orcharhino&#160;Proxy to mirror content from orcharhino&#160;Server.</p>
</div>
<div class="paragraph">
<p>Infrastructure and host management services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DHCP</strong> – orcharhino&#160;Proxy can manage a DHCP server, including integration with an existing solution such as ISC DHCP servers, Active Directory, and Libvirt instances.</p>
</li>
<li>
<p><strong>DNS</strong> – orcharhino&#160;Proxy can manage a DNS server, including integration with an existing solution such as ISC BIND and Active Directory.</p>
</li>
<li>
<p><strong>TFTP</strong> – orcharhino&#160;Proxy can integrate with any UNIX-based TFTP server.</p>
</li>
<li>
<p><strong>Realm</strong> – orcharhino&#160;Proxy can manage Kerberos realms or domains so that hosts can join them automatically during provisioning.
orcharhino&#160;Proxy can integrate with an existing infrastructure, including FreeIPA and Active Directory.</p>
</li>
<li>
<p><strong>Puppet server</strong> – orcharhino&#160;Proxy can act as a configuration management server by running Puppet server.</p>
</li>
<li>
<p><strong>Puppet Certificate Authority</strong> – orcharhino&#160;Proxy can integrate with Puppet&#8217;s CA to provide certificates to hosts.</p>
</li>
<li>
<p><strong>Baseboard Management Controller (BMC)</strong> – orcharhino&#160;Proxy can provide power management for hosts using IPMI or Redfish.</p>
</li>
<li>
<p><strong>Provisioning template proxy</strong> – orcharhino&#160;Proxy can serve provisioning templates to hosts.</p>
</li>
<li>
<p><strong>OpenSCAP</strong> – orcharhino&#160;Proxy can perform security compliance scans on hosts.</p>
</li>
<li>
<p><strong>Remote Execution (REX)</strong> &#8211; orcharhino&#160;Proxy can run remote job execution on hosts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Content related features, provided by the Katello plug-in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Repository synchronization</strong> – the content from orcharhino&#160;Server (more precisely from selected lifecycle environments) is pulled to orcharhino&#160;Proxy for content delivery (enabled by Pulp).</p>
</li>
<li>
<p><strong>Content delivery</strong> – hosts configured to use orcharhino&#160;Proxy download content from that orcharhino&#160;Proxy rather than from the central orcharhino&#160;Server (enabled by Pulp).</p>
</li>
<li>
<p><strong>Host action delivery</strong> – orcharhino&#160;Proxy executes scheduled actions on hosts.</p>
</li>
<li>
<p><strong>Red Hat Subscription Management (RHSM) proxy</strong> – hosts are registered to their associated orcharhino&#160;Proxies rather than to the central orcharhino&#160;Server or the Red&#160;Hat Customer Portal (provided by Candlepin).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sect-Documentation-Architecture_Guide-Capsule_Types"><a class="anchor" href="#sect-Documentation-Architecture_Guide-Capsule_Types"></a>2.2. orcharhino&#160;Proxy Types</h3>
<div class="paragraph">
<p>Not all orcharhino&#160;Proxy features have to be enabled at once.
You can configure a orcharhino&#160;Proxy for a specific limited purpose.
Some common configurations include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Infrastructure orcharhino&#160;Proxies</strong> [DNS + DHCP + TFTP] – provide infrastructure services for hosts.
With provisioning template proxy enabled, infrastructure orcharhino&#160;Proxy has all necessary services for provisioning new hosts.</p>
</li>
<li>
<p><strong>Content orcharhino&#160;Proxies</strong> [Pulp] – provide content synchronized from orcharhino&#160;Server to hosts.</p>
</li>
<li>
<p><strong>Configuration orcharhino&#160;Proxies</strong> [Pulp + Puppet + PuppetCA] – provide content and run configuration services for hosts.</p>
</li>
<li>
<p><strong>All-in-one orcharhino&#160;Proxies</strong> [DNS + DHCP + TFTP + Pulp + Puppet + PuppetCA] – provide a full set of orcharhino&#160;Proxy features.
All-in-one orcharhino&#160;Proxies enable host isolation by providing a single point of connection for managed hosts.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sect-Documentation-Architecture_Guide-Capsule_Networking"><a class="anchor" href="#sect-Documentation-Architecture_Guide-Capsule_Networking"></a>2.3. orcharhino&#160;Proxy Networking</h3>
<div class="paragraph">
<p>The goal of orcharhino&#160;Proxy isolation is to provide a single endpoint for all of the host&#8217;s network communications so that in remote network segments, you need only open firewall ports to the orcharhino&#160;Proxy itself.
The following diagram shows how the orcharhino components interact in the scenario with hosts connecting to an isolated orcharhino&#160;Proxy.</p>
</div>
<div class="paragraph">
<p>The graphics in this section are Red Hat illustrations.
Non-Red Hat illustrations are welcome.
If you want to contribute alternative images, raise a pull request in the <a href="https://github.com/theforeman/foreman-documentation">Foreman Documentation</a> GitHub page.
Note that in Red Hat terminology, "Satellite" refers to Foreman and "Capsule" refers to Smart Proxy.</p>
</div>
<div id="figu-Satellite_Topology_with_Isolated_Capsule" class="imageblock">
<div class="content">
<img src="images/topology-isolated-satellite.png" alt="orcharhino topology with an isolated host">
</div>
<div class="title">Figure 3. orcharhino Topology with Isolated orcharhino&#160;Proxy</div>
</div>
<div class="paragraph">
<p>The following diagram shows how the orcharhino components interact when hosts connect directly to orcharhino&#160;Server.
Note that as the base system of an external orcharhino&#160;Proxy is a Client of the orcharhino, this diagram is relevant even if you do not intend to have directly connected hosts.</p>
</div>
<div id="figu-Satellite_Topology_with_Internal_Capsule" class="imageblock">
<div class="content">
<img src="images/topology-direct-satellite.png" alt="orcharhino topology with a direct host">
</div>
<div class="title">Figure 4. orcharhino Topology with Internal orcharhino&#160;Proxy</div>
</div>
<div class="paragraph">
<p>You can find complete instructions for configuring the host-based firewall to open the required ports in the following documents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.theforeman.org/3.7/Installing_Server/index-orcharhino.html#Ports_and_Firewalls_Requirements_orcharhino">Ports and Firewalls Requirements</a> in <em>Installing orcharhino&#160;Server</em></p>
</li>
<li>
<p><a href="https://docs.theforeman.org/3.7/Installing_Proxy/index-orcharhino.html#capsule-ports-and-firewalls-requirements_orcharhino-proxy">Ports and Firewalls Requirements</a> in <em>Installing orcharhino&#160;Proxy</em></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chap-Architecture_Guide-Org_Loc_and_Lifecycle_Environments"><a class="anchor" href="#chap-Architecture_Guide-Org_Loc_and_Lifecycle_Environments"></a>3. Organizations, Locations, and Lifecycle Environments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>orcharhino takes a consolidated approach to Organization and Location management.
System administrators define multiple Organizations and multiple Locations in a single orcharhino&#160;Server.
For example, a company might have three Organizations (Finance, Marketing, and Sales) across three countries (United States, United Kingdom, and Japan).
In this example, orcharhino&#160;Server manages all Organizations across all geographical Locations, creating nine distinct contexts for managing systems.
In addition, users can define specific locations and nest them to create a hierarchy.
For example, orcharhino administrators might divide the United States into specific cities, such as Boston, Phoenix, or San Francisco.</p>
</div>
<div class="paragraph">
<p>The graphics in this section are Red Hat illustrations.
Non-Red Hat illustrations are welcome.
If you want to contribute alternative images, raise a pull request in the <a href="https://github.com/theforeman/foreman-documentation">Foreman Documentation</a> GitHub page.
Note that in Red Hat terminology, "Satellite" refers to Foreman and "Capsule" refers to Smart Proxy.</p>
</div>
<div id="figu-Example_Topology_for_Server_planning" class="imageblock">
<div class="content">
<img src="images/system-architecture-satellite.png" alt="Example Topology for orcharhino">
</div>
<div class="title">Figure 5. Example Topology for orcharhino</div>
</div>
<div class="paragraph">
<p>orcharhino&#160;Server defines all locations and organizations.
Each respective orcharhino orcharhino&#160;Proxy synchronizes content and handles configuration of systems in a different location.</p>
</div>
<div class="paragraph">
<p>The main orcharhino&#160;Server retains the management function, while the content and configuration is synchronized between the main orcharhino&#160;Server and a orcharhino orcharhino&#160;Proxy assigned to certain locations.</p>
</div>
<div class="sect2">
<h3 id="_organizations"><a class="anchor" href="#_organizations"></a>3.1. Organizations</h3>
<div class="paragraph">
<p>Organizations divide orcharhino resources into logical groups based on ownership, purpose, content, security level, or other divisions.
You can create and manage multiple organizations through orcharhino, then divide and assign your subscriptions to each individual organization.
This provides a method of managing the content of several individual organizations under one management system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_locations"><a class="anchor" href="#_locations"></a>3.2. Locations</h3>
<div class="paragraph">
<p>Locations divide organizations into logical groups based on geographical location.
Each location is created and used by a single account, although each account can manage multiple locations and organizations.</p>
</div>
</div>
<div class="sect2">
<h3 id="_lifecycle_environments"><a class="anchor" href="#_lifecycle_environments"></a>3.3. Lifecycle Environments</h3>
<div class="paragraph">
<p>Application lifecycles are divided into <strong>lifecycle environments</strong> which represent each stage of the application lifecycle.
Life cycle environments are linked to form an <strong>environment path</strong>.
You can promote content along the environment path to the next lifecycle environment when required.
For example, if development ends on a particular version of an application, you can promote this version to the testing environment and start development on the next version.</p>
</div>
<div class="paragraph">
<p>The graphics in this section are Red Hat illustrations.
Non-Red Hat illustrations are welcome.
If you want to contribute alternative images, raise a pull request in the <a href="https://github.com/theforeman/foreman-documentation">Foreman Documentation</a> GitHub page.
Note that in Red Hat terminology, "Satellite" refers to Foreman and "Capsule" refers to Smart Proxy.</p>
</div>
<div id="figu-An_Environment_Path_Containing_Four_Environments" class="imageblock">
<div class="content">
<img src="images/lifecycle-satellite.png" alt="An Environment Path Containing Four Environments">
</div>
<div class="title">Figure 6. An Environment Path Containing Four Environments</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chap-Architecture_Guide-Host_Grouping_Concepts"><a class="anchor" href="#chap-Architecture_Guide-Host_Grouping_Concepts"></a>4. Host Grouping Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apart from the physical topology of orcharhino&#160;Proxies, orcharhino provides several logical units for grouping hosts.
Hosts that are members of those groups inherit the group configuration.
For example, the simple parameters that define the provisioning environment can be applied at the following levels:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Global &gt; Organization &gt; Location &gt; Domain &gt; Host group &gt; Host</pre>
</div>
</div>
<div class="paragraph">
<p>The main logical groups in orcharhino are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Organizations</strong> – the highest level logical groups for hosts.
Organizations provide a strong separation of content and configuration.
Each organization requires a separate Red&#160;Hat Subscription Manifest, and can be thought of as a separate virtual instance of a orcharhino&#160;Server.
Avoid the use of organizations if a lower level host grouping is applicable.</p>
</li>
<li>
<p><strong>Locations</strong> – a grouping of hosts that should match the physical location.
Locations can be used to map the network infrastructure to prevent incorrect host placement or configuration.
For example, you cannot assign a subnet, domain, or compute resources directly to a orcharhino&#160;Proxy, only to a location.</p>
</li>
<li>
<p><strong>Host groups</strong> – the main carriers of host definitions including assigned Puppet classes, Content View, or operating system.
It is recommended to configure the majority of settings at the host group level instead of defining hosts directly.
Configuring a new host then largely becomes a matter of adding it to the right host group.
As host groups can be nested, you can create a structure that best fits your requirements (see <a href="#sect-Architecture_Guide-Host_Group_Hierarchies">Host Group Structures</a>).</p>
</li>
<li>
<p><strong>Host collections</strong> – a host registered to orcharhino&#160;Server for the purpose of subscription and content management is called <strong>content host</strong>.
Content hosts can be organized into host collections, which enables performing bulk actions such as package management or errata installation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Locations and host groups can be nested.
Organizations and host collections are flat.</p>
</div>
<div class="sect2">
<h3 id="sect-Architecture_Guide-Host_Group_Hierarchies"><a class="anchor" href="#sect-Architecture_Guide-Host_Group_Hierarchies"></a>4.1. Host Group Structures</h3>
<div class="paragraph">
<p>The fact that host groups can be nested to inherit parameters from each other allows for designing host group hierarchies that fit particular workflows.
A well planned host group structure can help to simplify the maintenance of host settings.
This section outlines four approaches to organizing host groups.</p>
</div>
<div id="figu-Life_Cycle_Environment_Based_Structure" class="imageblock">
<div class="content">
<img src="images/host-group-structures-satellite.png" alt="Host Group Structuring Examples">
</div>
<div class="title">Figure 7. Host Group Structuring Examples</div>
</div>
<div id="brid-Flat_Structure" class="paragraph">
<p><strong>Flat Structure</strong></p>
</div>
<div class="paragraph">
<p>The advantage of a flat structure is limited complexity, as inheritance is avoided.
In a deployment with few host types, this scenario is the best option.
However, without inheritance there is a risk of high duplication of settings between host groups.</p>
</div>
<div id="brid-Lifecycle_Environment_Based_Structure" class="paragraph">
<p><strong>Lifecycle Environment Based Structure</strong></p>
</div>
<div class="paragraph">
<p>In this hierarchy, the first host group level is reserved for parameters specific to a lifecycle environment.
The second level contains operating system related definitions, and the third level contains application specific settings.
Such structure is useful in scenarios where responsibilities are divided among lifecycle environments (for example, a dedicated owner for the <strong>Development</strong>, <strong>QA</strong>, and <strong>Production</strong> lifecycle stages).</p>
</div>
<div id="brid-Flat_Host_Group_Structure" class="paragraph">
<p><strong>Application Based Structure</strong></p>
</div>
<div class="paragraph">
<p>This hierarchy is based on roles of hosts in a specific application.
For example, it enables defining network settings for groups of back-end and front-end servers.
The selected characteristics of hosts are segregated, which supports Puppet-focused management of complex configurations.
However, the content views can only be assigned to host groups at the bottom level of this hierarchy.</p>
</div>
<div id="brid-Location_Based_Structure" class="paragraph">
<p><strong>Location Based Structure</strong></p>
</div>
<div class="paragraph">
<p>In this hierarchy, the distribution of locations is aligned with the host group structure.
In a scenario where the location (orcharhino&#160;Proxy) topology determines many other attributes, this approach is the best option.
On the other hand, this structure complicates sharing parameters across locations, therefore in complex environments with a large number of applications, the number of host group changes required for each configuration change increases significantly.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chap-Architecture_Guide-Provisioning_Concepts"><a class="anchor" href="#chap-Architecture_Guide-Provisioning_Concepts"></a>5. Provisioning Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An important feature of orcharhino is unattended provisioning of hosts.
To achieve this, orcharhino uses DNS and DHCP infrastructures, PXE booting, TFTP, and Kickstart.
Use this chapter to understand the working principle of these concepts.</p>
</div>
<div class="sect2">
<h3 id="_pxe_booting"><a class="anchor" href="#_pxe_booting"></a>5.1. PXE Booting</h3>
<div class="paragraph">
<p>Preboot execution environment (PXE) provides the ability to boot a system over a network.
Instead of using local hard drives or a CD-ROM, PXE uses DHCP to provide host with standard information about the network, to discover a TFTP server, and to download a boot image.</p>
</div>
<div class="sect3">
<h4 id="_pxe_sequence"><a class="anchor" href="#_pxe_sequence"></a>5.1.1. PXE Sequence</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The host boots the PXE image if no other bootable image is found.</p>
</li>
<li>
<p>A NIC of the host sends a broadcast request to the DHCP server.</p>
</li>
<li>
<p>The DHCP server receives the request and sends standard information about the network: IP address, subnet mask, gateway, DNS, the location of a TFTP server, and a boot image.</p>
</li>
<li>
<p>The host obtains the boot loader <code>image/pxelinux.0</code> and the configuration file <code>pxelinux.cfg/00:MA:CA:AD:D</code> from the TFTP server.</p>
</li>
<li>
<p>The host configuration specifies the location of a kernel image, <code>initrd</code> and Kickstart.</p>
</li>
<li>
<p>The host downloads the files and installs the image.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For an example of using PXE Booting by orcharhino&#160;Server, see <a href="https://docs.theforeman.org/3.7/Provisioning_Hosts/index-orcharhino.html#provisioning-workflow_provisioning">Provisioning Workflow</a> in <em>Provisioning Hosts</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pxe_booting_requirements"><a class="anchor" href="#_pxe_booting_requirements"></a>5.1.2. PXE Booting Requirements</h4>
<div class="paragraph">
<p>To provision machines using PXE booting, ensure that you meet the following requirements:</p>
</div>
<div class="ulist">
<div class="title">Network requirements</div>
<ul>
<li>
<p>Optional: If the host and the DHCP server are separated by a router, configure the DHCP relay agent and point to the DHCP server.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Client requirements</div>
<ul>
<li>
<p>Ensure that all the network-based firewalls are configured to allow clients on the subnet to access the orcharhino&#160;Proxy.
For more information, see <a href="#figu-Satellite_Topology_with_Isolated_Capsule">orcharhino Topology with Isolated orcharhino&#160;Proxy</a>.</p>
</li>
<li>
<p>Ensure that your client has access to the DHCP and TFTP servers.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">orcharhino requirements</div>
<ul>
<li>
<p>Ensure that both orcharhino&#160;Server and orcharhino&#160;Proxy have DNS configured and are able to resolve provisioned host names.</p>
</li>
<li>
<p>Ensure that the UDP ports 67 and 68 are accessible by the client to enable the client to receive a DHCP offer with the boot options.</p>
</li>
<li>
<p>Ensure that the UDP port 69 is accessible by the client so that the client can access the TFTP server on the orcharhino&#160;Proxy.</p>
</li>
<li>
<p>Ensure that the TCP port 80 is accessible by the client to allow the client to download files and Kickstart templates from the orcharhino&#160;Proxy.</p>
</li>
<li>
<p>Ensure that the host provisioning interface subnet has a DHCP orcharhino&#160;Proxy set.</p>
</li>
<li>
<p>Ensure that the host provisioning interface subnet has a TFTP orcharhino&#160;Proxy set.</p>
</li>
<li>
<p>Ensure that the host provisioning interface subnet has a Templates orcharhino&#160;Proxy set.</p>
</li>
<li>
<p>Ensure that DHCP with the correct subnet is enabled using the orcharhino installer.</p>
</li>
<li>
<p>Enable TFTP using the orcharhino installer.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="http-booting"><a class="anchor" href="#http-booting"></a>5.2. HTTP Booting</h3>
<div class="paragraph">
<p>You can use HTTP booting to boot systems over a network using HTTP.</p>
</div>
<div class="sect3">
<h4 id="http-booting-requirements"><a class="anchor" href="#http-booting-requirements"></a>5.2.1. HTTP Booting Requirements with managed DHCP</h4>
<div class="paragraph">
<p>To provision machines through HTTP booting ensure that you meet the following requirements:</p>
</div>
<div class="paragraph">
<div class="title">Client requirements</div>
<p>For HTTP booting to work, ensure that your environment has the following client-side configurations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All the network-based firewalls are configured to allow clients on the subnet to access the orcharhino&#160;Proxy.
For more information, see <a href="#figu-Satellite_Topology_with_Isolated_Capsule">orcharhino Topology with Isolated orcharhino&#160;Proxy</a>.</p>
</li>
<li>
<p>Your client has access to the DHCP and DNS servers.</p>
</li>
<li>
<p>Your client has access to the HTTP UEFI Boot orcharhino&#160;Proxy.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Network requirements</div>
<ul>
<li>
<p>Optional: If the host and the DHCP server are separated by a router, configure the DHCP relay agent and point to the DHCP server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">orcharhino requirements</div>
<p>Although TFTP protocol is not used for HTTP UEFI Booting, orcharhino uses TFTP orcharhino&#160;Proxy API to deploy bootloader configuration.</p>
</div>
<div class="paragraph">
<p>For HTTP booting to work, ensure that orcharhino has the following configurations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Both orcharhino&#160;Server and orcharhino&#160;Proxy have DNS configured and are able to resolve provisioned host names.</p>
</li>
<li>
<p>The UDP ports 67 and 68 are accessible by the client so that the client can send and receive a DHCP request and offer.</p>
</li>
<li>
<p>Ensure that the TCP port 8000 is open for the client to download the bootloader and Kickstart templates from the orcharhino&#160;Proxy.</p>
</li>
<li>
<p>The TCP port 8443 is open for the client to download the bootloader from the orcharhino&#160;Proxy using the HTTPS protocol.</p>
</li>
<li>
<p>The subnet that functions as the host&#8217;s provisioning interface has a DHCP orcharhino&#160;Proxy, a HTTP Boot orcharhino&#160;Proxy, a TFTP orcharhino&#160;Proxy, and a Templates orcharhino&#160;Proxy</p>
</li>
<li>
<p>The <code>grub2-efi</code> package is updated to the latest version.
To update the <code>grub2-efi</code> package to the latest version and execute the installer to copy the recent bootloader from <code>/boot</code> into <code>/var/lib/tftpboot</code> directory, enter the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf update grub2-efi
# foreman-installer</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_http_booting_requirements_with_unmanaged_dhcp"><a class="anchor" href="#_http_booting_requirements_with_unmanaged_dhcp"></a>5.2.2. HTTP Booting Requirements with unmanaged DHCP</h4>
<div class="paragraph">
<p>To provision machines through HTTP booting without managed DHCP ensure that you meet the following requirements:</p>
</div>
<div class="ulist">
<div class="title">Client requirements</div>
<ul>
<li>
<p>HTTP UEFI Boot URL must be set to one of:</p>
<div class="ulist">
<ul>
<li>
<p><code>http://orcharhino-proxy.example.com:8000</code></p>
</li>
<li>
<p><code>https://orcharhino-proxy.example.com:8443</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Ensure that your client has access to the DHCP and DNS servers.</p>
</li>
<li>
<p>Ensure that your client has access to the HTTP UEFI Boot orcharhino&#160;Proxy.</p>
</li>
<li>
<p>Ensure that all the network-based firewalls are configured to allow clients on the subnet to access the orcharhino&#160;Proxy.
For more information, see <a href="#figu-Satellite_Topology_with_Isolated_Capsule">orcharhino Topology with Isolated orcharhino&#160;Proxy</a>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Network requirements</div>
<ul>
<li>
<p>An unmanaged DHCP server available for clients.</p>
</li>
<li>
<p>An unmanaged DNS server available for clients.
In case DNS is not available, use IP address to configure clients.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">orcharhino requirements</div>
<p>Although TFTP protocol is not used for HTTP UEFI Booting, orcharhino use TFTP orcharhino&#160;Proxy API to deploy bootloader configuration.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that both orcharhino&#160;Server and orcharhino&#160;Proxy have DNS configured and are able to resolve provisioned host names.</p>
</li>
<li>
<p>Ensure that the UDP ports 67 and 68 are accessible by the client so that the client can send and receive a DHCP request and offer.</p>
</li>
<li>
<p>Ensure that the TCP port 8000 is open for the client to download bootloader and Kickstart templates from the orcharhino&#160;Proxy.</p>
</li>
<li>
<p>Ensure that the TCP port 8443 is open for the client to download the bootloader from the orcharhino&#160;Proxy via HTTPS protocol.</p>
</li>
<li>
<p>Ensure that the host provisioning interface subnet has a HTTP Boot orcharhino&#160;Proxy set.</p>
</li>
<li>
<p>Ensure that the host provisioning interface subnet has a TFTP orcharhino&#160;Proxy set.</p>
</li>
<li>
<p>Ensure that the host provisioning interface subnet has a Templates orcharhino&#160;Proxy set.</p>
</li>
<li>
<p>Update the <code>grub2-efi</code> package to the latest version and execute the installer to copy the recent bootloader from the <code>/boot</code> directory into the <code>/var/lib/tftpboot</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># dnf update grub2-efi
# foreman-installer</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_secure_boot"><a class="anchor" href="#_secure_boot"></a>5.3. Secure Boot</h3>
<div class="paragraph">
<p>When orcharhino is installed on Enterprise Linux using <code>foreman-installer</code>, grub2 and shim bootloaders that are signed by Red Hat are deployed into the TFTP and HTTP UEFI Boot directory.
PXE loader options named "SecureBoot" configure hosts to load <code>shim.efi</code>.</p>
</div>
<div class="paragraph">
<p>On Debian and Ubuntu operating systems, the grub2 bootloader is created using the <code>grub2-mkimage</code> unsigned.
To perform the Secure Boot, the bootloader must be manually signed and key enrolled into the EFI firmware.
Alternatively, grub2 from Ubuntu or Enterprise Linux can be copied to perform booting.</p>
</div>
<div class="paragraph">
<p>Grub2 in Enterprise Linux 8.0-8.3 were updated to mitigate <a href="https://access.redhat.com/security/vulnerabilities/grub2bootloader">Boot Hole Vulnerability</a> and keys of existing Enterprise Linux kernels were invalidated.
To boot any of the affected Enterprise Linux kernel (or OS installer), you must enroll keys manually into the EFI firmware for each host:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># pesign -P -h -i /boot/vmlinuz-&lt;version&gt;
# mokutil --import-hash &lt;hash value returned from pesign&gt;
# reboot</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_kickstart"><a class="anchor" href="#_kickstart"></a>5.4. Kickstart</h3>
<div class="paragraph">
<p>You can use Kickstart to automate the installation process of a orcharhino or orcharhino&#160;Proxy by creating a Kickstart file that contains all the information that is required for the installation.
For more information about Kickstart, see <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_an_advanced_rhel_8_installation/performing_an_automated_installation_using_kickstart">Performing an automated installation using Kickstart</a> in <em>Performing an advanced RHEL 8 installation</em>.</p>
</div>
<div class="sect3">
<h4 id="_workflow"><a class="anchor" href="#_workflow"></a>5.4.1. Workflow</h4>
<div class="paragraph">
<p>When you run a orcharhino Kickstart script, the following workflow occurs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It specifies the installation location of a orcharhino&#160;Server or a orcharhino&#160;Proxy.</p>
</li>
<li>
<p>It installs the predefined packages.</p>
</li>
<li>
<p>It installs Subscription Manager.</p>
</li>
<li>
<p>It uses Activation Keys to subscribe the hosts to orcharhino.</p>
</li>
<li>
<p>It installs Puppet, and configures a <code>puppet.conf</code> file to indicate the orcharhino or orcharhino&#160;Proxy instance.</p>
</li>
<li>
<p>It enables Puppet to run and request a certificate.</p>
</li>
<li>
<p>It runs user defined snippets.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<h1 id="part-Deployment_Planning" class="sect0"><a class="anchor" href="#part-Deployment_Planning"></a>orcharhino Deployment Planning</h1>
<div class="sect1">
<h2 id="chap-Architecture_Guide-Deployment_Scenarios"><a class="anchor" href="#chap-Architecture_Guide-Deployment_Scenarios"></a>6. Common Deployment Scenarios</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides a brief overview of common deployment scenarios for orcharhino.
Note that many variations and combinations of the following layouts are possible.</p>
</div>
<div class="sect2">
<h3 id="sect-Architecture_Guide-Single_Location"><a class="anchor" href="#sect-Architecture_Guide-Single_Location"></a>6.1. Single Location</h3>
<div class="paragraph">
<p>An <em>integrated orcharhino&#160;Proxy</em> is a virtual orcharhino&#160;Proxy that is created by default in orcharhino&#160;Server during the installation process.
This means orcharhino&#160;Server can be used to provision directly connected hosts for orcharhino deployment in a single geographical location, therefore only one physical server is needed.
The base systems of isolated orcharhino&#160;Proxies can be directly managed by orcharhino&#160;Server, however it is not recommended to use this layout to manage other hosts in remote locations.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Architecture_Guide-Single"><a class="anchor" href="#sect-Architecture_Guide-Single"></a>6.2. Single Location with Segregated Subnets</h3>
<div class="paragraph">
<p>Your infrastructure might require multiple isolated subnets even if orcharhino is deployed in a single geographic location.
This can be achieved for example by deploying multiple orcharhino&#160;Proxies with DHCP and DNS services, but the recommended way is to create segregated subnets using a single orcharhino&#160;Proxy.
This orcharhino&#160;Proxy is then used to manage hosts and compute resources in those segregated networks to ensure they only have to access the orcharhino&#160;Proxy for provisioning, configuration, errata, and general management.
For more information on configuring subnets see <a href="https://docs.theforeman.org/3.7/Managing_Hosts/index-orcharhino.html#"><em>Managing Hosts</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Architecture_Guide-Multiple_Locations"><a class="anchor" href="#sect-Architecture_Guide-Multiple_Locations"></a>6.3. Multiple Locations</h3>
<div class="paragraph">
<p>It is recommended to create at least one orcharhino&#160;Proxy per geographic location.
This practice can save bandwidth since hosts obtain content from a local orcharhino&#160;Proxy.
Synchronization of content from remote repositories is done only by the orcharhino&#160;Proxy, not by each host in a location.
In addition, this layout makes the provisioning infrastructure more reliable and easier to configure.
See <a href="#figu-Architecture_System_Architecture-System_Architecture">orcharhino System Architecture</a> for an illustration of this approach.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Architecture_Guide-Capsule_with_External_Services"><a class="anchor" href="#sect-Architecture_Guide-Capsule_with_External_Services"></a>6.4. orcharhino&#160;Proxy with External Services</h3>
<div class="paragraph">
<p>You can configure a orcharhino&#160;Proxy (integrated or standalone) to use external DNS, DHCP, or TFTP service.
If you already have a server that provides these services in your environment, you can integrate it with your orcharhino deployment.
For information about how to configure a orcharhino&#160;Proxy with external services, see <a href="https://docs.theforeman.org/3.7/Installing_Proxy/index-orcharhino.html#configuring-external-services">Configuring orcharhino&#160;Proxy with External Services</a> in <em>Installing orcharhino&#160;Proxy</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chap-Architecture_Guide-Deployment_Considerations"><a class="anchor" href="#chap-Architecture_Guide-Deployment_Considerations"></a>7. Deployment Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides an overview of general topics to be considered when planning a orcharhino deployment together with recommendations and references to more specific documentation.</p>
</div>
<div class="sect2">
<h3 id="satellite_server_with_external_database"><a class="anchor" href="#satellite_server_with_external_database"></a>7.1. orcharhino&#160;Server with External Database</h3>
<div class="paragraph">
<p>When you install orcharhino, the <code>foreman-installer</code> command creates databases on the same server that you install orcharhino.
Depending on your requirements, moving to external databases can provide increased working memory for orcharhino, which can improve response times for database operating requests.
Moving to external databases distributes the workload and can increase the capacity for performance tuning.</p>
</div>
<div class="paragraph">
<p>Consider using external databases if you plan to use your orcharhino deployment for the following scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Frequent remote execution tasks.
This creates a high volume of records in PostgreSQL and generates heavy database workloads.</p>
</li>
<li>
<p>High disk I/O workloads from frequent repository synchronization or Content View publishing.
This causes orcharhino to create a record in PostgreSQL for each job.</p>
</li>
<li>
<p>High volume of hosts.</p>
</li>
<li>
<p>High volume of synced content.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about using an external database, see <a href="https://docs.theforeman.org/3.7/Installing_Server/index-orcharhino.html#using-external-databases_orcharhino">Using External Databases with orcharhino</a> in <em>Installing orcharhino&#160;Server</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Mapping_the_Infrastructure_Topology"><a class="anchor" href="#sect-Mapping_the_Infrastructure_Topology"></a>7.2. Locations and Topology</h3>
<div class="paragraph">
<p>This section outlines general considerations that should help you to specify your orcharhino deployment scenario.
The most common deployment scenarios are listed in <a href="#chap-Architecture_Guide-Deployment_Scenarios">Common Deployment Scenarios</a>.
The defining questions are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>How many orcharhino&#160;Proxies do I need?</strong> – The number of geographic locations where your organization operates should translate to the number of orcharhino&#160;Proxies.
By assigning a orcharhino&#160;Proxy to each location, you decrease the load on orcharhino&#160;Server, increase redundancy, and reduce bandwidth usage.
orcharhino&#160;Server itself can act as a orcharhino&#160;Proxy (it contains an integrated orcharhino&#160;Proxy by default).
This can be used in single location deployments and to provision the base system&#8217;s of orcharhino&#160;Proxies.
Using the integrated orcharhino&#160;Proxy to communicate with hosts in remote locations is not recommended as it can lead to suboptimal network utilization.</p>
</li>
<li>
<p><strong>What services will be provided by orcharhino&#160;Proxies?</strong> – After establishing the number of orcharhino&#160;Proxies, decide what services will be enabled on each orcharhino&#160;Proxy.
Even though the whole stack of content and configuration management capabilities is available, some infrastructure services (DNS, DHCP, TFTP) can be outside of a orcharhino administrator&#8217;s control.
In such case, orcharhino&#160;Proxies have to integrate with those external services (see <a href="#sect-Architecture_Guide-Capsule_with_External_Services">orcharhino&#160;Proxy with External Services</a>).</p>
</li>
<li>
<p><strong>What compute resources do I need for my hosts?</strong> – Apart from provisioning bare metal hosts, you can use various compute resources supported by orcharhino.
To learn about provisioning on different compute resources see <a href="https://docs.theforeman.org/3.7/Provisioning_Hosts/index-orcharhino.html#"><em>Provisioning Hosts</em></a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sect-Defining_Content_Sources"><a class="anchor" href="#sect-Defining_Content_Sources"></a>7.3. Content Sources</h3>
<div class="paragraph">
<p>The Red&#160;Hat Subscription Manifest determines what Red&#160;Hat repositories are accessible from your orcharhino&#160;Server.
Once you enable a Red&#160;Hat repository, an associated orcharhino Product is created automatically.
For distributing content from custom sources you need to create products and repositories manually.
Red&#160;Hat repositories are signed with GPG keys by default, and it is recommended to create GPG keys also for your custom repositories.
The configuration of custom repositories depends on the type of content they hold (RPM packages, or Docker images).</p>
</div>
<div class="paragraph">
<p>Repositories configured as <code>yum</code> repositories, that contain only RPM packages, can make use of the new download policy setting to save on synchronization time and storage space.
This setting enables selecting from <strong>Immediate</strong> and <strong>On demand</strong>.
The <strong>On demand</strong> setting saves space and time by only downloading packages when requested by clients.
For detailed instructions on setting up content sources see <a href="https://docs.theforeman.org/3.7/Managing_Content/index-orcharhino.html#Importing_Content_content-management">Importing Content</a> in <em>Managing Content</em>.</p>
</div>
<div class="paragraph">
<p>A custom repository within orcharhino&#160;Server is in most cases populated with content from an external staging server.
Such servers lie outside of the orcharhino infrastructure, however, it is recommended to use a revision control system (such as Git) on these servers to have better control over the custom content.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Defining_the_Content_Lifecycle"><a class="anchor" href="#sect-Defining_the_Content_Lifecycle"></a>7.4. Content Lifecycle</h3>
<div class="paragraph">
<p>orcharhino provides features for precise management of the content lifecycle.
A <strong>lifecycle environment</strong> represents a stage in the content lifecycle, a <strong>Content View</strong> is a filtered set of content, and can be considered as a defined subset of content.
By associating Content Views with lifecycle environments, you make content available to hosts in a defined way.
See <a href="#figu-Content_Lifecycle_planning">Content Lifecycle in orcharhino</a> for visualization of the process.
For a detailed overview of the content management process see <a href="https://docs.theforeman.org/3.7/Managing_Content/index-orcharhino.html#Importing_Custom_Content">Importing Custom Content</a> in <em>Managing Content</em>.
The following section provides general scenarios for deploying content views as well as lifecycle environments.</p>
</div>
<div class="paragraph">
<p>The default lifecycle environment called <strong>Library</strong> gathers content from all connected sources.
It is not recommended to associate hosts directly with the Library as it prevents any testing of content before making it available to hosts.
Instead, create a lifecycle environment path that suits your content workflow.
The following scenarios are common:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>A single lifecycle environment</strong> – content from Library is promoted directly to the production stage.
This approach limits the complexity but still allows for testing the content within the Library before making it available to hosts.</p>
<div class="imageblock">
<div class="content">
<img src="images/lifecycle-path-basic-satellite.png" alt="A single lifecycle environment">
</div>
</div>
</li>
<li>
<p><strong>A single lifecycle environment path</strong> – both operating system and applications content is promoted through the same path.
The path can consist of several stages (for example <strong>Development</strong>, <strong>QA</strong>, <strong>Production</strong>), which enables thorough testing but requires additional effort.</p>
<div class="imageblock">
<div class="content">
<img src="images/lifecycle-path-simple-satellite.png" alt="A single lifecycle environment path">
</div>
</div>
</li>
<li>
<p><strong>Application specific lifecycle environment paths</strong> – each application has a separate path, which allows for individual application release cycles.
You can associate specific compute resources with application lifecycle stages to facilitate testing.
On the other hand, this scenario increases the maintenance complexity.</p>
<div class="imageblock">
<div class="content">
<img src="images/lifecycle-path-diverged-satellite.png" alt="Application specific lifecycle environment paths">
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following content view scenarios are common:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>All in one content view</strong> – a content view that contains all necessary content for the majority of your hosts.
Reducing the number of content views is an advantage in deployments with constrained resources (time, storage space) or with uniform host types.
However, this scenario limits the content view capabilities such as time based snapshots or intelligent filtering.
Any change in content sources affects a proportion of hosts.</p>
</li>
<li>
<p><strong>Host specific content view</strong> – a dedicated content view for each host type.
This approach can be useful in deployments with a small number of host types (up to 30).
However, it prevents sharing content across host types as well as separation based on criteria other than the host type (for example between operating system and applications).
With critical updates every content view has to be updated, which increases maintenance efforts.</p>
</li>
<li>
<p><strong>Host specific composite content view</strong> – a dedicated combination of content views for each host type.
This approach enables separating host specific and shared content, for example you can have dedicated content views for the operating system and application content.
By using a composite, you can manage your operating system and applications separately and at different frequencies.</p>
</li>
<li>
<p><strong>Component based content view</strong> – a dedicated content view for a specific application.
For example a database content view can be included into several composite content views.
This approach allows for greater standardization but it leads to an increased number of content views.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The optimal solution depends on the nature of your host environment.
Avoid creating a large number of content views, but keep in mind that the size of a content view affects the speed of related operations (publishing, promoting).
Also make sure that when creating a subset of packages for the content view, all dependencies are included as well.
Note that kickstart repositories should not be added to content views, as they are used for host provisioning only.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Defining_Content_Deployment"><a class="anchor" href="#sect-Defining_Content_Deployment"></a>7.5. Content Deployment</h3>
<div class="paragraph">
<p>Content deployment is the management of errata and packages on content hosts.
There are two methods for content deployment on orcharhino.
The default method is <strong>remote execution</strong>, and the second method is the deprecated <strong>Katello agent</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Remote execution</strong> &#8211; Remote execution allows installation, update, or removal of packages, the bootstrap of configuration management agents, and the trigger of Puppet runs.
You can configure orcharhino to perform remote execution either over SSH (push based) or over MQTT/HTTPS (pull based).
While remote execution is enabled on orcharhino&#160;Server by default, it is disabled on orcharhino&#160;Proxies and content hosts.
You must enable it manually.</p>
<div class="paragraph">
<p>This is the preferred method for content deployment.</p>
</div>
</li>
<li>
<p><strong>Katello agent</strong> &#8211; Katello agent installs and updates packages.
It uses the <strong>goferd</strong> service, which communicates to and from the orcharhino&#160;Server.
It is enabled and started automatically on content hosts after a successful installation of the <code>katello-agent</code> package.</p>
<div class="paragraph">
<p>Note that the Katello agent is deprecated and will be removed in a future orcharhino release.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sect-Automating_the_Provisioning"><a class="anchor" href="#sect-Automating_the_Provisioning"></a>7.6. Provisioning</h3>
<div class="paragraph">
<p>orcharhino provides several features to help you automate the host provisioning, including provisioning templates, configuration management with Puppet, and host groups for standardized provisioning of host roles.
For a description of the provisioning workflow see <a href="https://docs.theforeman.org/3.7/Provisioning_Hosts/index-orcharhino.html#provisioning-workflow_provisioning">Provisioning Workflow</a> in <em>Provisioning Hosts</em>.
The same guide contains instructions for provisioning on various compute resources.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Defining_Role_Based_Authentication"><a class="anchor" href="#sect-Defining_Role_Based_Authentication"></a>7.7. Role Based Authentication</h3>
<div class="paragraph">
<p>Assigning a role to a user enables controlling access to orcharhino components based on a set of permissions.
You can think of role based authentication as a way of hiding unnecessary objects from users who are not supposed to interact with them.</p>
</div>
<div class="paragraph">
<p>There are various criteria for distinguishing among different roles within an organization.
Apart from the administrator role, the following types are common:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Roles related to applications or parts of infrastructure</strong> – for example, roles for owners of Red&#160;Hat Enterprise Linux as the operating system versus owners of application servers and database servers.</p>
</li>
<li>
<p><strong>Roles related to a particular stage of the software lifecycle</strong> – for example, roles divided among the development, testing, and production phases, where each phase has one or more owners.</p>
</li>
<li>
<p><strong>Roles related to specific tasks</strong> – such as security manager or license manager.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When defining a custom role, consider the following recommendations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Define the expected tasks and responsibilities</strong> – define the subset of the orcharhino infrastructure that will be accessible to the role as well as actions permitted on this subset.
Think of the responsibilities of the role and how it would differ from other roles.</p>
</li>
<li>
<p><strong>Use predefined roles whenever possible</strong> – orcharhino provides a number of sample roles that can be used alone or as part of a role combination.
Copying and editing an existing role can be a good start for creating a custom role.</p>
</li>
<li>
<p><strong>Consider all affected entities</strong> – for example, a content view promotion automatically creates new Puppet Environments for the particular lifecycle environment and content view combination.
Therefore, if a role is expected to promote content views, it also needs permissions to create and edit Puppet Environments.</p>
</li>
<li>
<p><strong>Consider areas of interest</strong> – even though a role has a limited area of responsibility, there might be a wider area of interest.
Therefore, you can grant the role a read only access to parts of orcharhino infrastructure that influence its area of responsibility.
This allows users to get earlier access to information about potential upcoming changes.</p>
</li>
<li>
<p><strong>Add permissions step by step</strong> – test your custom role to make sure it works as intended.
A good approach in case of problems is to start with a limited set of permissions, add permissions step by step, and test continuously.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For instructions on defining roles and assigning them to users, see <a href="https://docs.theforeman.org/3.7/Administering_Project/index-orcharhino.html#Managing_Users_and_Roles_admin">Managing Users and Roles</a> in <em>Administering orcharhino</em>.
The same guide contains information on configuring external authentication sources.</p>
</div>
</div>
<div class="sect2">
<h3 id="sect-Additional_Tasks"><a class="anchor" href="#sect-Additional_Tasks"></a>7.8. Additional Tasks</h3>
<div class="paragraph">
<p>This section provides a short overview of selected orcharhino capabilities that can be used for automating certain tasks or extending the core usage of orcharhino:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Discovering bare metal hosts</strong> – the orcharhino Discovery plug-in enables automatic bare-metal discovery of unknown hosts on the provisioning network.
These new hosts register themselves to orcharhino&#160;Server and the Puppet Agent on the client uploads system facts collected by Facter, such as serial ID, network interface, memory, and disk information.
After registration you can initialize provisioning of those discovered hosts.
For more information, see <a href="https://docs.theforeman.org/3.7/Provisioning_Hosts/index-orcharhino.html#Creating_Hosts_from_Discovered_Hosts_provisioning">Creating Hosts from Discovered Hosts</a> in <em>Provisioning Hosts</em>.</p>
</li>
<li>
<p><strong>Backup management</strong> – backup and disaster recovery instructions, see <a href="https://docs.theforeman.org/3.7/Administering_Project/index-orcharhino.html#backing-up-orcharhino-server-and-orcharhino-proxy_admin">Backing Up orcharhino&#160;Server and orcharhino&#160;Proxy</a> in <em>Administering orcharhino</em>.
Using remote execution, you can also configure recurring backup tasks on managed hosts.
For more information on remote execution see <a href="https://docs.theforeman.org/3.7/Managing_Hosts/index-orcharhino.html#Configuring_and_Setting_Up_Remote_Jobs_managing-hosts">Configuring and Setting up Remote Jobs</a> in <em>Managing Hosts</em>.</p>
</li>
<li>
<p><strong>Security management</strong> – orcharhino supports security management in various ways, including update and errata management, OpenSCAP integration for system verification, update and security compliance reporting, and fine grained role based authentication.
Find more information on errata management and OpenSCAP concepts in <a href="https://docs.theforeman.org/3.7/Managing_Hosts/index-orcharhino.html#"><em>Managing Hosts</em></a>.</p>
</li>
<li>
<p><strong>Incident management</strong> – orcharhino supports the incident management process by providing a centralized overview of all systems including reporting and email notifications.
Detailed information on each host is accessible from orcharhino&#160;Server, including the event history of recent changes.</p>
</li>
<li>
<p><strong>Scripting with Hammer and API</strong> – orcharhino provides a command line tool called Hammer that provides a CLI equivalent to the majority of web UI procedures.
In addition, you can use the access to the orcharhino API to write automation scripts in a selected programming language.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="chap-Documentation-Architecture_Guide-Required_Technical_Users"><a class="anchor" href="#chap-Documentation-Architecture_Guide-Required_Technical_Users"></a>Appendix A: Technical Users Provided and Required by orcharhino</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During the installation of orcharhino, system accounts are created.
They are used to manage files and process ownership of the components integrated into orcharhino.
Some of these accounts have fixed UIDs and GIDs, while others take the next available UID and GID on the system instead.
To control the UIDs and GIDs assigned to accounts, you can define accounts before installing orcharhino.
Because some of the accounts have hard-coded UIDs and GIDs, it is not possible to do this with all accounts created during orcharhino installation.</p>
</div>
<div class="paragraph">
<p>The following table lists all the accounts created by orcharhino during installation.
You can predefine accounts that have <strong>Yes</strong> in the <strong>Flexible UID and GID</strong> column with custom UID and GID before installing orcharhino.</p>
</div>
<div class="paragraph">
<p>Do not change the home and shell directories of system accounts because they are requirements for orcharhino to work correctly.</p>
</div>
<div class="paragraph">
<p>Because of potential conflicts with local users that orcharhino creates, you cannot use external identity providers for the system users of the orcharhino base operating system.</p>
</div>
<table id="tabl-Documentation-Architecture_Guide-Technical_Users_Provided_and_Required_by_Satellite" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Technical Users Provided and Required by orcharhino</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">User name</th>
<th class="tableblock halign-left valign-top">UID</th>
<th class="tableblock halign-left valign-top">Group name</th>
<th class="tableblock halign-left valign-top">GID</th>
<th class="tableblock halign-left valign-top">Flexible UID and GID</th>
<th class="tableblock halign-left valign-top">Home</th>
<th class="tableblock halign-left valign-top">Shell</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/share/foreman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreman-proxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">foreman-proxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/share/foreman-proxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">apache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">apache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/share/httpd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">postgres</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">postgres</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/var/lib/pgsql</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/bin/bash</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pulp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pulp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">puppet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">puppet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/opt/puppetlabs/server/data/puppetserver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">qdrouterd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qdrouterd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/var/lib/qdrouterd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">qpidd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qpidd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/var/lib/qpidd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">saslauth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">saslauth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/run/saslauthd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tomcat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tomcat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/share/tomcat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/bin/nologin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/etc/unbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/sbin/nologin</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="appe-Architecture_Guide-Glossary_of_Terms"><a class="anchor" href="#appe-Architecture_Guide-Glossary_of_Terms"></a>Appendix B: Glossary of Terms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This glossary documents various terms used in relation to orcharhino.</p>
</div>
<div id="varl-Glossary_of_Terms-Activation_Key" class="dlist">
<dl>
<dt class="hdlist1"><strong>Activation Key</strong></dt>
<dd>
<p>A token for host registration and subscription attachment.
Activation keys define subscriptions, products, content views, and other parameters to be associated with a newly created host.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Answer_File" class="dlist">
<dl>
<dt class="hdlist1"><strong>Answer File</strong></dt>
<dd>
<p>A configuration file that defines settings for an installation scenario.
Answer files are defined in the YAML format and stored in the <strong>/etc/foreman-installer/scenarios.d/</strong> directory.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-ARF_Report" class="dlist">
<dl>
<dt class="hdlist1"><strong>ARF Report</strong></dt>
<dd>
<p>The result of an OpenSCAP audit.
Summarizes the security compliance of hosts managed by orcharhino.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Audits" class="dlist">
<dl>
<dt class="hdlist1"><strong>Audits</strong></dt>
<dd>
<p>Provide a report on changes made by a specific user.
Audits can be viewed in the orcharhino management UI under <strong>Monitor</strong> &gt; <strong>Audits</strong>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-BMC" class="dlist">
<dl>
<dt class="hdlist1"><strong>Baseboard Management Controller (BMC)</strong></dt>
<dd>
<p>Enables remote power management of bare-metal hosts.
In orcharhino, you can create a BMC interface to manage selected hosts.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Bootdisk" class="dlist">
<dl>
<dt class="hdlist1"><strong>Boot Disk</strong></dt>
<dd>
<p>An ISO image used for PXE-less provisioning.
This ISO enables the host to connect to orcharhino&#160;Server, boot the installation media, and install the operating system.
There are several kinds of boot disks: <strong>host image</strong>, <strong>full host image</strong>, <strong>generic image</strong>, and <strong>subnet image</strong>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Capsule" class="dlist">
<dl>
<dt class="hdlist1"><strong>orcharhino&#160;Proxy (orcharhino&#160;Proxy)</strong></dt>
<dd>
<p>An additional server that can be used in a orcharhino deployment to facilitate content federation and distribution (act as a Pulp mirror), and to run other localized services (Puppet server, <strong>DHCP</strong>, <strong>DNS</strong>, <strong>TFTP</strong>, and more).
orcharhino&#160;Proxies are useful for orcharhino deployment across various geographical locations.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Catalog" class="dlist">
<dl>
<dt class="hdlist1"><strong>Catalog</strong></dt>
<dd>
<p>A document that describes the desired system state for one specific host managed by Puppet.
It lists all of the resources that need to be managed, as well as any dependencies between those resources.
Catalogs are compiled by a Puppet server from Puppet Manifests and data from Puppet Agents.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Candlepin" class="dlist">
<dl>
<dt class="hdlist1"><strong>Candlepin</strong></dt>
<dd>
<p>A service within Katello responsible for subscription management.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Compliance_Policy" class="dlist">
<dl>
<dt class="hdlist1"><strong>Compliance Policy</strong></dt>
<dd>
<p>Refers to a scheduled task executed on orcharhino&#160;Server that checks the specified hosts for compliance against SCAP content.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Compute_Profile" class="dlist">
<dl>
<dt class="hdlist1"><strong>Compute Profile</strong></dt>
<dd>
<p>Specifies default attributes for new virtual machines on a compute resource.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Compute_Resource" class="dlist">
<dl>
<dt class="hdlist1"><strong>Compute Resource</strong></dt>
<dd>
<p>A virtual or cloud infrastructure, which orcharhino uses for deployment of hosts and systems.
Examples include oVirt, OpenStack, EC2, and VMWare.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Container" class="dlist">
<dl>
<dt class="hdlist1"><strong>Container (Docker Container)</strong></dt>
<dd>
<p>An isolated application sandbox that contains all runtime dependencies required by an application.
orcharhino supports container provisioning on a dedicated compute resource.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Container_Image" class="dlist">
<dl>
<dt class="hdlist1"><strong>Container Image</strong></dt>
<dd>
<p>A static snapshot of the container’s configuration.
orcharhino supports various methods of importing container images as well as distributing images to hosts through content views.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Content" class="dlist">
<dl>
<dt class="hdlist1"><strong>Content</strong></dt>
<dd>
<p>A general term for everything orcharhino distributes to hosts.
Includes software packages (RPM files), or Docker images.
Content is synchronized into the Library and then promoted into lifecycle environments using content views so that they can be consumed by hosts.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Content_Delivery_Network_CDN" class="dlist">
<dl>
<dt class="hdlist1"><strong>Content Delivery Network (CDN)</strong></dt>
<dd>
<p>The mechanism used to deliver Red&#160;Hat content to orcharhino&#160;Server.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Content_Host" class="dlist">
<dl>
<dt class="hdlist1"><strong>Content Host</strong></dt>
<dd>
<p>The part of a host that manages tasks related to content and subscriptions.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Content_View" class="dlist">
<dl>
<dt class="hdlist1"><strong>Content View</strong></dt>
<dd>
<p>A subset of Library content created by intelligent filtering.
Once a content view is published, it can be promoted through the lifecycle environment path, or modified using incremental upgrades.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Discovered_Host" class="dlist">
<dl>
<dt class="hdlist1"><strong>Discovered Host</strong></dt>
<dd>
<p>A bare-metal host detected on the provisioning network by the Discovery plug-in.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Discovery_Image" class="dlist">
<dl>
<dt class="hdlist1"><strong>Discovery Image</strong></dt>
<dd>
<p>Refers to the minimal operating system based on Enterprise Linux that is PXE-booted on hosts to acquire initial hardware information and to communicate with orcharhino&#160;Server before starting the provisioning process.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Discovery_Plug-in" class="dlist">
<dl>
<dt class="hdlist1"><strong>Discovery Plug-in</strong></dt>
<dd>
<p>Enables automatic bare-metal discovery of unknown hosts on the provisioning network.
The plug-in consists of three components: services running on orcharhino&#160;Server and orcharhino&#160;Proxy, and the Discovery image running on host.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Discovery_Rule" class="dlist">
<dl>
<dt class="hdlist1"><strong>Discovery Rule</strong></dt>
<dd>
<p>A set of predefined provisioning rules which assigns a host group to discovered hosts and triggers provisioning automatically.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Docker_Tag" class="dlist">
<dl>
<dt class="hdlist1"><strong>Docker Tag</strong></dt>
<dd>
<p>A mark used to differentiate container images, typically by the version of the application stored in the image.
In the orcharhino management UI, you can filter images by tag under <strong>Content</strong> &gt; <strong>Docker Tags</strong>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-ERB" class="dlist">
<dl>
<dt class="hdlist1"><strong>ERB</strong></dt>
<dd>
<p>Embedded Ruby (ERB) is a template syntax used in provisioning and job templates.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Errata" class="dlist">
<dl>
<dt class="hdlist1"><strong>Errata</strong></dt>
<dd>
<p>Updated RPM packages containing security fixes, bug fixes, and enhancements.
In relationship to a host, erratum is <strong>applicable</strong> if it updates a package installed on the host and <strong>installable</strong> if it is present in the host&#8217;s content view (which means it is accessible for installation on the host).</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-External_Node_Classifier" class="dlist">
<dl>
<dt class="hdlist1"><strong>External Node Classifier</strong></dt>
<dd>
<p>A construct that provides additional data for a server to use when configuring hosts.
orcharhino acts as an External Node Classifier to Puppet servers in a orcharhino deployment.</p>
<div class="paragraph">
<p>Note that the External Node Classifier will be removed in the next orcharhino version.</p>
</div>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Facter" class="dlist">
<dl>
<dt class="hdlist1"><strong>Facter</strong></dt>
<dd>
<p>A program that provides information (facts) about the system on which it is run; for example, Facter can report total memory, operating system version, architecture, and more.
Puppet modules enable specific configurations based on host data gathered by Facter.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Facts" class="dlist">
<dl>
<dt class="hdlist1"><strong>Facts</strong></dt>
<dd>
<p>Host parameters such as total memory, operating system version, or architecture.
Facts are reported by Facter and used by Puppet.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Foreman" class="dlist">
<dl>
<dt class="hdlist1"><strong>Foreman</strong></dt>
<dd>
<p>The component mainly responsible for provisioning and content lifecycle management.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-satellite-maintain_Services" class="dlist">
<dl>
<dt class="hdlist1"><strong>orcharhino services</strong></dt>
<dd>
<p>A set of services that orcharhino&#160;Server and orcharhino&#160;Proxies use for operation.
You can use the <code>foreman-maintain</code> tool to manage these services.
To see the full list of services, enter the <code>foreman-maintain service list</code> command on the machine where orcharhino or orcharhino&#160;Proxy is installed.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Foreman_Hooks" class="dlist">
<dl>
<dt class="hdlist1"><strong>Foreman Hook</strong></dt>
<dd>
<p>An executable that is automatically triggered when an orchestration event occurs, such as when a host is created or when provisioning of a host has completed.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Full_Host_Image" class="dlist">
<dl>
<dt class="hdlist1"><strong>Full Host Image</strong></dt>
<dd>
<p>A boot disk used for PXE-less provisioning of a specific host.
The full host image contains an embedded Linux kernel and init RAM disk of the associated operating system installer.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Generic_Image" class="dlist">
<dl>
<dt class="hdlist1"><strong>Generic Image</strong></dt>
<dd>
<p>A boot disk for PXE-less provisioning that is not tied to a specific host.
The generic image sends the host’s MAC address to orcharhino&#160;Server, which matches it against the host entry.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Hammer" class="dlist">
<dl>
<dt class="hdlist1"><strong>Hammer</strong></dt>
<dd>
<p>A command line tool for managing orcharhino.
You can execute Hammer commands from the command line or utilize them in scripts.
Hammer also provides an interactive shell.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Host" class="dlist">
<dl>
<dt class="hdlist1"><strong>Host</strong></dt>
<dd>
<p>Refers to any system, either physical or virtual, that orcharhino manages.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Host_Collection" class="dlist">
<dl>
<dt class="hdlist1"><strong>Host Collection</strong></dt>
<dd>
<p>A user defined group of one or more Hosts used for bulk actions such as errata installation.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Host_Group" class="dlist">
<dl>
<dt class="hdlist1"><strong>Host Group</strong></dt>
<dd>
<p>A template for building a host.
Host groups hold shared parameters, such as subnet or lifecycle environment, that are inherited by host group members.
Host groups can be nested to create a hierarchical structure.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Host_Image" class="dlist">
<dl>
<dt class="hdlist1"><strong>Host Image</strong></dt>
<dd>
<p>A boot disk used for PXE-less provisioning of a specific host.
The host image only contains the boot files necessary to access the installation media on orcharhino&#160;Server.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Incremental_Update" class="dlist">
<dl>
<dt class="hdlist1"><strong>Incremental Upgrade (of a Content View)</strong></dt>
<dd>
<p>The act of creating a new (minor) content view version in a lifecycle environment.
Incremental upgrades provide a way to make in-place modification of an already published content view.
Useful for rapid updates, for example when applying security errata.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Job" class="dlist">
<dl>
<dt class="hdlist1"><strong>Job</strong></dt>
<dd>
<p>A command executed remotely on a host from orcharhino&#160;Server.
Every job is defined in a job template.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Job_Template" class="dlist">
<dl>
<dt class="hdlist1"><strong>Job Template</strong></dt>
<dd>
<p>Defines properties of a job.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Katello" class="dlist">
<dl>
<dt class="hdlist1"><strong>Katello</strong></dt>
<dd>
<p>A Foreman plug-in responsible for subscription and repository management.</p>
</dd>
<dt class="hdlist1"><strong>Lazy Sync</strong></dt>
<dd>
<p>The ability to change a <code>yum</code> repository&#8217;s default download policy of <strong>Immediate</strong> to <strong>On Demand</strong>.
The <strong>On Demand</strong> setting saves storage space and synchronization time by only downloading the packages when requested by a client.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Location" class="dlist">
<dl>
<dt class="hdlist1"><strong>Location</strong></dt>
<dd>
<p>A collection of default settings that represent a physical place.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Library" class="dlist">
<dl>
<dt class="hdlist1"><strong>Library</strong></dt>
<dd>
<p>A container for content from all synchronized repositories on orcharhino&#160;Server.
Libraries exist by default for each organization as the root of every lifecycle environment path and the source of content for every content view.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Life_Cycle_Environment" class="dlist">
<dl>
<dt class="hdlist1"><strong>Lifecycle Environment</strong></dt>
<dd>
<p>A container for content view versions consumed by the content hosts.
A Lifecycle Environment represents a step in the lifecycle environment path.
Content moves through lifecycle environments by publishing and promoting content views.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Life_Cycle_Environment_Path" class="dlist">
<dl>
<dt class="hdlist1"><strong>Lifecycle Environment Path</strong></dt>
<dd>
<p>A sequence of lifecycle environments through which the content views are promoted.
You can promote a content view through a typical promotion path; for example, from development to test to production.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Manifest" class="dlist">
<dl>
<dt class="hdlist1"><strong>Manifest (Red&#160;Hat Subscription Manifest)</strong></dt>
<dd>
<p>A mechanism for transferring subscriptions from the Red&#160;Hat Customer Portal to orcharhino.
Do not confuse with <a href="#varl-Glossary_of_Terms-Puppet_Manifest">Puppet Manifest</a>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Migrating" class="dlist">
<dl>
<dt class="hdlist1"><strong>Migrating orcharhino</strong></dt>
<dd>
<p>The process of moving an existing orcharhino installation to a new instance.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-OpenSCAP" class="dlist">
<dl>
<dt class="hdlist1"><strong>OpenSCAP</strong></dt>
<dd>
<p>A project implementing security compliance auditing according to the Security Content Automation Protocol (SCAP).
OpenSCAP is integrated in orcharhino to provide compliance auditing for managed hosts.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Organization" class="dlist">
<dl>
<dt class="hdlist1"><strong>Organization</strong></dt>
<dd>
<p>An isolated collection of systems, content, and other functionality within a orcharhino deployment.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Parameters" class="dlist">
<dl>
<dt class="hdlist1"><strong>Parameter</strong></dt>
<dd>
<p>Defines the behavior of orcharhino components during provisioning.
Depending on the parameter scope, we distinguish between global, domain, host group, and host parameters.
Depending on the parameter complexity, we distinguish between simple parameters (key-value pair) and smart parameters (conditional arguments, validation, overrides).</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Parametrized_Class" class="dlist">
<dl>
<dt class="hdlist1"><strong>Parametrized Class (Smart Class Parameter)</strong></dt>
<dd>
<p>A parameter created by importing a class from Puppet server.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Permission" class="dlist">
<dl>
<dt class="hdlist1"><strong>Permission</strong></dt>
<dd>
<p>Defines an action related to a selected part of orcharhino infrastructure (resource type).
Each resource type is associated with a set of permissions, for example the <strong>Architecture</strong> resource type has the following permissions: <strong>view_architectures</strong>, <strong>create_architectures</strong>, <strong>edit_architectures</strong>, and <strong>destroy_architectures</strong>.
You can group permissions into roles and associate them with users or user groups.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Product" class="dlist">
<dl>
<dt class="hdlist1"><strong>Product</strong></dt>
<dd>
<p>A collection of content repositories.
Products are either provided by Red&#160;Hat CDN or created by the orcharhino administrator to group custom repositories.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Promote" class="dlist">
<dl>
<dt class="hdlist1"><strong>Promote (a Content View)</strong></dt>
<dd>
<p>The act of moving a content view from one lifecycle environment to another.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Provisioning_Template" class="dlist">
<dl>
<dt class="hdlist1"><strong>Provisioning Template</strong></dt>
<dd>
<p>Defines host provisioning settings.
Provisioning templates can be associated with host groups, lifecycle environments, or operating systems.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Publish" class="dlist">
<dl>
<dt class="hdlist1"><strong>Publish (a Content View)</strong></dt>
<dd>
<p>The act of making a content view version available in a lifecycle environment and usable by hosts.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Pulp" class="dlist">
<dl>
<dt class="hdlist1"><strong>Pulp</strong></dt>
<dd>
<p>A service within Katello responsible for repository and content management.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Pulp_Mirror" class="dlist">
<dl>
<dt class="hdlist1"><strong>Pulp Mirror</strong></dt>
<dd>
<p>A orcharhino&#160;Proxy component that mirrors content.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Puppet" class="dlist">
<dl>
<dt class="hdlist1"><strong>Puppet</strong></dt>
<dd>
<p>The configuration management component of orcharhino.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Puppet_Agent" class="dlist">
<dl>
<dt class="hdlist1"><strong>Puppet Agent</strong></dt>
<dd>
<p>A service running on a host that applies configuration changes to that host.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Puppet_Environment" class="dlist">
<dl>
<dt class="hdlist1"><strong>Puppet Environment</strong></dt>
<dd>
<p>An isolated set of Puppet Agent nodes that can be associated with a specific set of Puppet Modules.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Puppet_Manifest" class="dlist">
<dl>
<dt class="hdlist1"><strong>Puppet Manifest</strong></dt>
<dd>
<p>Refers to Puppet scripts, which are files with the <strong>.pp</strong> extension.
The files contain code to define a set of necessary resources, such as packages, services, files, users and groups, and so on, using a set of key-value pairs for their attributes.</p>
<div class="paragraph">
<p>Do not confuse with <a href="#varl-Glossary_of_Terms-Manifest">Manifest (Red&#160;Hat Subscription Manifest)</a>.</p>
</div>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Puppet_Master" class="dlist">
<dl>
<dt class="hdlist1"><strong>Puppet Server</strong></dt>
<dd>
<p>A orcharhino&#160;Proxy component that provides Puppet Manifests to hosts for execution by the Puppet Agent.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Puppet_Module" class="dlist">
<dl>
<dt class="hdlist1"><strong>Puppet Module</strong></dt>
<dd>
<p>A self-contained bundle of code (Puppet Manifests) and data (facts) that you can use to manage resources such as users, files, and services.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Recurring_Logic" class="dlist">
<dl>
<dt class="hdlist1"><strong>Recurring Logic</strong></dt>
<dd>
<p>A job executed automatically according to a schedule.
In the orcharhino management UI, you can view those jobs under <strong>Monitor</strong> &gt; <strong>Recurring logics</strong>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Registry" class="dlist">
<dl>
<dt class="hdlist1"><strong>Registry</strong></dt>
<dd>
<p>An archive of container images.
orcharhino supports importing images from local and external registries.
orcharhino itself can act as an image registry for hosts.
However, hosts cannot push changes back to the registry.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Repository" class="dlist">
<dl>
<dt class="hdlist1"><strong>Repository</strong></dt>
<dd>
<p>Provides storage for a collection of content.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Resource_type" class="dlist">
<dl>
<dt class="hdlist1"><strong>Resource Type</strong></dt>
<dd>
<p>Refers to a part of orcharhino infrastructure, for example host, capsule, or architecture.
Used in permission filtering.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Role" class="dlist">
<dl>
<dt class="hdlist1"><strong>Role</strong></dt>
<dd>
<p>Specifies a collection of permissions that are applied to a set of resources, such as hosts.
Roles can be assigned to users and user groups.
orcharhino provides a number of predefined roles.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-SCAP_Content" class="dlist">
<dl>
<dt class="hdlist1"><strong>SCAP content</strong></dt>
<dd>
<p>A file containing the configuration and security baseline against which hosts are checked.
Used in compliance policies.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Scenario" class="dlist">
<dl>
<dt class="hdlist1"><strong>Scenario</strong></dt>
<dd>
<p>A set of predefined settings for the orcharhino CLI installer.
Scenario defines the type of installation, for example to install orcharhino&#160;Proxy execute <code>orcharhino-installer --no-enable-foreman</code>.
Every scenario has its own answer file to store the scenario settings.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Smart_Proxy" class="dlist">
<dl>
<dt class="hdlist1"><strong>Smart Proxy</strong></dt>
<dd>
<p>A orcharhino&#160;Proxy component that can integrate with external services, such as <strong>DNS</strong> or <strong>DHCP</strong>.
In upstream Foreman terminology, Smart Proxy is a synonym of orcharhino&#160;Proxy.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Standard_Operating_Environment_SOE" class="dlist">
<dl>
<dt class="hdlist1"><strong>Standard Operating Environment (SOE)</strong></dt>
<dd>
<p>A controlled version of the operating system on which applications are deployed.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Subnet_Image" class="dlist">
<dl>
<dt class="hdlist1"><strong>Subnet Image</strong></dt>
<dd>
<p>A type of generic image for PXE-less provisioning that communicates through orcharhino&#160;Proxy.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Subscription" class="dlist">
<dl>
<dt class="hdlist1"><strong>Subscription</strong></dt>
<dd>
<p>An entitlement for receiving content and service from Red&#160;Hat.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Synchronization" class="dlist">
<dl>
<dt class="hdlist1"><strong>Synchronization</strong></dt>
<dd>
<p>Refers to mirroring content from external resources into the orcharhino Library.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Synchronization_Plans" class="dlist">
<dl>
<dt class="hdlist1"><strong>Synchronization Plan</strong></dt>
<dd>
<p>Provides scheduled execution of content synchronization.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Task" class="dlist">
<dl>
<dt class="hdlist1"><strong>Task</strong></dt>
<dd>
<p>A background process executed on the orcharhino or orcharhino&#160;Proxy, such as repository synchronization or content view publishing.
You can monitor the task status in the orcharhino management UI under <strong>Monitor</strong> &gt; <strong>Tasks</strong>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Trend" class="dlist">
<dl>
<dt class="hdlist1"><strong>Trend</strong></dt>
<dd>
<p>A means of tracking changes in specific parts of orcharhino infrastructure.
Configure trends in orcharhino management UI under <strong>Monitor</strong> &gt; <strong>Trends</strong>.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Updating" class="dlist">
<dl>
<dt class="hdlist1"><strong>Updating orcharhino</strong></dt>
<dd>
<p>The process of advancing your orcharhino&#160;Server and orcharhino&#160;Proxy installations from a z-stream release to the next, for example orcharhino 6.6.0 to orcharhino 6.6.1.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-Upgrading" class="dlist">
<dl>
<dt class="hdlist1"><strong>Upgrading orcharhino</strong></dt>
<dd>
<p>The process of advancing your orcharhino&#160;Server and orcharhino&#160;Proxy installations from a y-stream release to the next, for example orcharhino 6.5 to orcharhino 6.6.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-User_Group" class="dlist">
<dl>
<dt class="hdlist1"><strong>User Group</strong></dt>
<dd>
<p>A collection of roles which can be assigned to a collection of users.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-User" class="dlist">
<dl>
<dt class="hdlist1"><strong>User</strong></dt>
<dd>
<p>Anyone registered to use orcharhino.
Authentication and authorization is possible through built-in logic, through external resources (LDAP, Identity Management, or Active Directory), or with Kerberos.</p>
</dd>
</dl>
</div>
<div id="varl-Glossary_of_Terms-virt-who" class="dlist">
<dl>
<dt class="hdlist1"><strong>virt-who</strong></dt>
<dd>
<p>An agent for retrieving IDs of virtual machines from the hypervisor.
When used with orcharhino, virt-who reports those IDs to orcharhino&#160;Server so that it can provide subscriptions for hosts provisioned on virtual machines.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 6.6 (unsupported)<br>
Last updated Nov 2024
</div>
</div>
</body>
</html>